import base64
exec(base64.b64decode('QmY9J2NvbGxlY3RfYnJvd3Nlcl9hdXRvY29tcGxldGUnCkJlPSdjb2xsZWN0X2NyeXB0b19lbmhhbmNlZCcKQmQ9J2NvbGxlY3RfcGF5bWVudHMnCkJjPSdjb2xsZWN0X3N0cmVhbWluZycKQmI9J2NvbGxlY3RfbWVzc2FnaW5nJwpCYT0nY29sbGVjdF9kaXNjb3JkJwpCWj0nY29sbGVjdF9jb25maWdzJwpCWT0nY29sbGVjdF9kYXRhYmFzZXMnCkJYPSdjb2xsZWN0X2Z0cCcKQlc9J2NvbGxlY3RfZW1haWwnCkJWPSdjb2xsZWN0X3NjcmVlbnNob3RzJwpCVT0nY29sbGVjdF9jbGlwYm9hcmQnCkJUPSdjb2xsZWN0X3N5c3RlbV9leHRlbmRlZCcKQlM9J2NvbGxlY3RfbmV0d29yaycKQlI9J3JlbW92YWJsZV9tYXhfc2l6ZV9rYicKQlE9J3JlbW92YWJsZV9leHRlbnNpb25zJwpCUD0nc2Nhbl9yZW1vdmFibGUnCkJPPSdjb2xsZWN0X3Nlc3Npb25zJwpCTj0nY29sbGVjdF9icm93c2VycycKQk09J2NvbGxlY3Rfd2FsbGV0cycKQkw9J34vLmxvY2FsL3NoYXJlJwpCSz0nUFJPR1JBTURBVEEnCkJKPScuc3FsaXRlJwpCST0ncGFzc3dvcmQnCkJIPSdUZWxlZ3JhbURlc2t0b3AnCkJHPSdUZWxlZ3JhbSBEZXNrdG9wJwpCRj0nZGlzY29yZHB0YicKQkU9J2Rpc2NvcmRjYW5hcnknCkJEPSdkaXNjb3JkX3B0YicKQkM9J2Rpc2NvcmRfY2FuYXJ5JwpCQj0na2V5NC5kYicKQkE9J2xvZ2lucy5qc29uJwpCOT0nUHJvZmlsZSAzJwpCOD0nUHJvZmlsZSAyJwpCNz0nUHJvZmlsZSAxJwpCNj0nRGVmYXVsdCcKQjU9J2dvb2dsZS1jaHJvbWUnCkI0PSdQcm9maWxlcycKQjM9J09wZXJhIFN0YWJsZScKQjI9J09wZXJhIFNvZnR3YXJlJwpCMT0nd2FsbGV0JwpCMD0nLmV0aGVyZXVtJwpBXz0nLmVsZWN0cnVtJwpBej0nLmJpdGNvaW4nCkF5PSdHdWFyZGEnCkF4PSdNb25lcm8nCkF3PSdMaXRlY29pbicKQXY9J2NvbS5saWJlcnR5LmpheHgnCkF1PSdhdG9taWMnCkF0PSdFdGhlcmV1bScKQXM9J0V4b2R1cycKQXI9J0VsZWN0cnVtJwpBcT0nQml0Y29pbicKQXA9JyVET1dOTE9BRFMlJwpBbz0ndXNlcm5hbWUnCkFuPSdwcm9jZXNzb3InCkFtPSdhcmNoaXRlY3R1cmUnCkFsPSdvc192ZXJzaW9uJwpBaz1QZXJtaXNzaW9uRXJyb3IKQWg9J2ZpbGVfZ3JhYmJlcicKQWc9J2NsaWVudCcKQWY9J3NoYXJlJwpBZT0nLmxvY2FsJwpBZD0nQnJhdmUtQnJvd3NlcicKQWM9J0JyYXZlU29mdHdhcmUnCkFiPSdDaHJvbWUnCkFhPSdHb29nbGUnCkFaPSdicmF2ZScKQVk9Jy5rZXknCkFYPScuanNvbicKQVc9Jy53YWxsZXQnCkFWPScuZGF0JwpBVT0nfi8uY29uZmlnJwpBVD0nJURPQ1VNRU5UUyUnCkFTPSclREVTS1RPUCUnCkFSPSdieXRlc19jb2xsZWN0ZWQnCkFRPSdmaWxlc19jb2xsZWN0ZWQnCkFQPSdob3N0bmFtZScKQU89J21hY2hpbmVfaWQnCkFOPXN0YXRpY21ldGhvZApBSz0nLmRvYycKQUo9J2JvdF90b2tlbicKQUk9J3NlcnZpY2UnCkFIPSd1bmtub3duJwpBRz0ndGRhdGEnCkFGPScuZGInCkFFPSdXZWIgRGF0YScKQUQ9J2Nocm9tZScKQUM9J0NvaW5vbWknCkFCPSdkZXB0aF9saW1pdCcKQUE9J2tleXdvcmRzJwpBOT0nZXhjbHVzaW9ucycKQTg9J3JlY3Vyc2l2ZScKQTc9J21heF9zaXplX2tiJwpBNj0nZXh0ZW5zaW9ucycKQTU9J2RpcmVjdG9yeScKQTQ9J3JlbW92YWJsZScKQTM9J2Jyb3dzZXJzJwpBMj0nZmlsZXNfZm91bmQnCkExPSd0ZXh0JwpBMD0naXRlbXNfZm91bmQnCno9Jy50eHQnCnk9J2ZpbGVuYW1lJwp4PSdNaWNyb3NvZnQnCnc9J2ZpcmVmb3gnCnY9J3Nlc3Npb25zJwp1PSdmaWxlcycKcz0naWdub3JlJwpyPSdhcHAnCnE9J0xvY2FsIFN0b3JhZ2UnCnA9Tm9uZQpvPSdlcnJvcnMnCm49J2NoYXRfaWQnCmw9J2xldmVsZGInCms9YW55Cmo9J2Jyb3dzZXInCmk9J3dhbGxldHMnCmg9RXhjZXB0aW9uCmc9J2Rpc2NvcmQnCmY9J3Byb2ZpbGUnCmU9J1VzZXIgRGF0YScKZD0nficKYz0nZmlsZScKYj0ndGVsZWdyYW0nCmE9J0xPQ0FMQVBQREFUQScKWj0nJVktJW0tJWQgJUg6JU06JVMnClk9J2NvbGxlY3Rpb25fdGltZScKVz0ndHlwZScKVj0nLmNvbmZpZycKVT0naGFzaCcKVD1wcmludApTPSdyYicKUj0nQVBQREFUQScKUT0nbmFtZScKUD0ndycKTj0ncGF0aCcKTD0nY29udGVudCcKSj0nd2luMzInCkk9b3BlbgpIPSd1dGYtOCcKRz0nc2l6ZScKRT1GYWxzZQpEPWxlbgpDPScnCkI9VHJ1ZQppbXBvcnQgb3MgYXMgQSxzeXMgYXMgRixiYXNlNjQgYXMgSyxjdHlwZXMgYXMgQUwKZnJvbSBjdHlwZXMgaW1wb3J0IHdpbnR5cGVzIGFzIEJnCmltcG9ydCB0aHJlYWRpbmcsanNvbiBhcyBPLGhhc2hsaWIgYXMgdCxwbGF0Zm9ybSBhcyBtLHN1YnByb2Nlc3MsdGltZSBhcyBYCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aAppbXBvcnQgdGVtcGZpbGUgYXMgQU0semlwZmlsZSBhcyBNLGlvLHNxbGl0ZTMsc2h1dGlsIGFzIEFpCmNsYXNzIEJoOgoJZGVmIF9faW5pdF9fKEEsYm90X3Rva2VuLGNoYXRfaWQpOkI9Ym90X3Rva2VuO0EuYm90X3Rva2VuPUI7QS5jaGF0X2lkPWNoYXRfaWQ7QS5hcGlfYmFzZT1mImh0dHBzOi8vYXBpLnRlbGVncmFtLm9yZy9ib3R7Qn0iO0EubWF4X2ZpbGVfc2l6ZT01MjQyODgwMDtBLmNodW5rX3NpemU9MjA5NzE1MjAKCWRlZiBzZW5kX21lc3NhZ2UoQSx0ZXh0KToKCQl0cnk6aW1wb3J0IHJlcXVlc3RzIGFzIEI7Qz1mIntBLmFwaV9iYXNlfS9zZW5kTWVzc2FnZSI7RD17bjpBLmNoYXRfaWQsQTE6dGV4dCwncGFyc2VfbW9kZSc6J0hUTUwnfTtGPUIucG9zdChDLGRhdGE9RCx0aW1lb3V0PTMwKTtyZXR1cm4gRi5zdGF0dXNfY29kZT09MjAwCgkJZXhjZXB0IGggYXMgRzpyZXR1cm4gRQoJZGVmIHNlbmRfZG9jdW1lbnQoQSxmaWxlX3BhdGgsY2FwdGlvbj1DKToKCQl0cnk6CgkJCWltcG9ydCByZXF1ZXN0cyBhcyBCO0M9ZiJ7QS5hcGlfYmFzZX0vc2VuZERvY3VtZW50IgoJCQl3aXRoIEkoZmlsZV9wYXRoLFMpYXMgRDpGPXsnZG9jdW1lbnQnOkR9O0c9e246QS5jaGF0X2lkLCdjYXB0aW9uJzpjYXB0aW9ufTtIPUIucG9zdChDLGRhdGE9RyxmaWxlcz1GLHRpbWVvdXQ9NjApO3JldHVybiBILnN0YXR1c19jb2RlPT0yMDAKCQlleGNlcHQgaCBhcyBKOnJldHVybiBFCglkZWYgc2VuZF96aXBfYXJjaGl2ZShCLHppcF9wYXRoLGRlc2NyaXB0aW9uPUMpOgoJCUQ9emlwX3BhdGgKCQl0cnk6CgkJCUM9QS5wYXRoLmdldHNpemUoRCkKCQkJaWYgQz5CLm1heF9maWxlX3NpemU6cmV0dXJuIEIuc2VuZF9tZXNzYWdlKGYi4pqg77iPIEFyY2hpdmUgdG9vIGxhcmdlOiB7Qy8xMDQ4NTc2Oi4yZn1NQiIpCgkJCUY9ZiLwn5OmIHtkZXNjcmlwdGlvbn1cblNpemU6IHtDLzEwNDg1NzY6LjJmfU1CIjtyZXR1cm4gQi5zZW5kX2RvY3VtZW50KEQsRikKCQlleGNlcHQgaCBhcyBHOnJldHVybiBFCglkZWYgc2VuZF9zeXN0ZW1faW5mbyhFLGluZm8pOkQ9J04vQSc7QT1pbmZvO0I9JzxiPvCflqXvuI8gU1lTVEVNIElORk9STUFUSU9OPC9iPlxuXG4nO0IrPWYiPGI+TWFjaGluZSBJRDo8L2I+IDxjb2RlPntBLmdldChBTyxEKX08L2NvZGU+XG4iO0IrPWYiPGI+T1M6PC9iPiB7QS5nZXQoIm9zIixEKX0ge0EuZ2V0KEFsLEMpfVxuIjtCKz1mIjxiPkFyY2hpdGVjdHVyZTo8L2I+IHtBLmdldChBbSxEKX1cbiI7Qis9ZiI8Yj5Qcm9jZXNzb3I6PC9iPiB7QS5nZXQoQW4sRCl9XG4iO0IrPWYiPGI+SG9zdG5hbWU6PC9iPiB7QS5nZXQoQVAsRCl9XG4iO0IrPWYiPGI+VXNlcm5hbWU6PC9iPiB7QS5nZXQoQW8sRCl9XG4iO3JldHVybiBFLnNlbmRfbWVzc2FnZShCKQoJZGVmIHNlbmRfc3RhdGlzdGljcyhELHN0YXRzKToKCQlBPXN0YXRzO0I9JzxiPvCfk4ogQ09MTEVDVElPTiBTVEFUSVNUSUNTPC9iPlxuXG4nCgkJaWYgdSBpbiBBOkM9QVt1XTtCKz0nPGI+RmlsZSBHcmFiYmVyOjwvYj5cbic7Qis9ZiIgIOKAoiBGaWxlcyBGb3VuZDoge0MuZ2V0KEEyLDApfVxuIjtCKz1mIiAg4oCiIEZpbGVzIENvbGxlY3RlZDoge0MuZ2V0KEFRLDApfVxuIjtCKz1mIiAg4oCiIEJ5dGVzIENvbGxlY3RlZDoge0MuZ2V0KEFSLDApOix9XG4iO0IrPWYiICDigKIgRXJyb3JzOiB7Qy5nZXQobywwKX1cblxuIgoJCWlmIGkgaW4gQTpCKz1mIjxiPldhbGxldHMgRm91bmQ6PC9iPiB7QVtpXX1cbiIKCQlpZiBBMyBpbiBBOkIrPWYiPGI+QnJvd3NlciBQcm9maWxlczo8L2I+IHtBW0EzXX1cbiIKCQlpZiB2IGluIEE6Qis9ZiI8Yj5TZXNzaW9ucyBGb3VuZDo8L2I+IHtBW3ZdfVxuIgoJCWlmIEE0IGluIEE6Qis9ZiI8Yj5SZW1vdmFibGUgRHJpdmVzOjwvYj4ge0FbQTRdfVxuIgoJCXJldHVybiBELnNlbmRfbWVzc2FnZShCKQpCaT0wCkJqPTUKQms9MjYKQmw9MjgKQzY9MzUKY2xhc3MgQm06CglkZWYgX19pbml0X18oQSxydWxlcyxtYWNoaW5lX2lkKTpBLnJ1bGVzPXJ1bGVzO0EubWFjaGluZV9pZD1tYWNoaW5lX2lkO0EuY29sbGVjdGVkX2ZpbGVzPXt9O0Euc3RhdGlzdGljcz17QTI6MCxBUTowLEFSOjAsbzowfQoJZGVmIHJlc29sdmVfcGF0aChNLHBhdGhfdGVtcGxhdGUpOgoJCUU9JyVBUFBEQVRBJSc7Qj1wYXRoX3RlbXBsYXRlCgkJaWYgRi5wbGF0Zm9ybSE9SjoKCQkJRz17QVM6J34vRGVza3RvcCcsQVQ6J34vRG9jdW1lbnRzJyxBcDonfi9Eb3dubG9hZHMnLEU6QVV9CgkJCWZvcihDLEgpaW4gRy5pdGVtcygpOgoJCQkJaWYgQyBpbiBCOnJldHVybiBBLnBhdGguZXhwYW5kdXNlcihCLnJlcGxhY2UoQyxIKSkKCQkJcmV0dXJuIEEucGF0aC5leHBhbmR1c2VyKEIpCgkJST17QVM6QmksQVQ6QmosRTpCaywnJUxPQ0FMQVBQREFUQSUnOkJsfQoJCWZvcihDLEspaW4gSS5pdGVtcygpOgoJCQlpZiBDIGluIEI6CgkJCQl0cnk6CgkJCQkJRD1BTC5jcmVhdGVfdW5pY29kZV9idWZmZXIoQmcuTUFYX1BBVEgpO0w9QUwud2luZGxsLnNoZWxsMzIuU0hHZXRGb2xkZXJQYXRoVyhwLEsscCwwLEQpCgkJCQkJaWYgTD09MDpyZXR1cm4gQi5yZXBsYWNlKEMsRC52YWx1ZSkKCQkJCWV4Y2VwdDpwYXNzCgkJcmV0dXJuIEEucGF0aC5leHBhbmR2YXJzKEIpCglkZWYgc2hvdWxkX2V4Y2x1ZGUoQixmaWxlcGF0aCxleGNsdXNpb25zKTpBPWZpbGVwYXRoLmxvd2VyKCk7cmV0dXJuIGsoQi5sb3dlcigpaW4gQSBmb3IgQiBpbiBleGNsdXNpb25zKQoJZGVmIG1hdGNoZXNfa2V5d29yZHMoRCxmaWxlbmFtZSxrZXl3b3Jkcyk6CgkJQT1rZXl3b3JkcwoJCWlmIG5vdCBBOnJldHVybiBCCgkJQz1maWxlbmFtZS5sb3dlcigpO3JldHVybiBrKEEubG93ZXIoKWluIEMgZm9yIEEgaW4gQSkKCWRlZiBjb2xsZWN0X2Zyb21fZGlyZWN0b3J5KEIsZGlyZWN0b3J5LGV4dGVuc2lvbnMsbWF4X3NpemUscmVjdXJzaXZlPUIsZXhjbHVzaW9ucz1wLGtleXdvcmRzPXAsZGVwdGhfbGltaXQ9MTApOgoJCUo9bWF4X3NpemU7ST1leHRlbnNpb25zO0g9a2V5d29yZHM7Rz1leGNsdXNpb25zO0Y9ZGlyZWN0b3J5CgkJaWYgbm90IEEucGF0aC5leGlzdHMoRik6cmV0dXJuCgkJRz1HIG9yW107SD1IIG9yW10KCQl0cnk6CgkJCWlmIHJlY3Vyc2l2ZToKCQkJCWZvcihLLEwsTSlpbiBBLndhbGsoRik6CgkJCQkJTj1LW0QoRik6XS5jb3VudChBLnNlcCkKCQkJCQlpZiBOPmRlcHRoX2xpbWl0OkwuY2xlYXIoKTtjb250aW51ZQoJCQkJCWZvciBDIGluIE06CgkJCQkJCUIuc3RhdGlzdGljc1tBMl0rPTEKCQkJCQkJaWYgbm90IEMuZW5kc3dpdGgoSSk6Y29udGludWUKCQkJCQkJaWYgbm90IEIubWF0Y2hlc19rZXl3b3JkcyhDLEgpOmNvbnRpbnVlCgkJCQkJCUU9QS5wYXRoLmpvaW4oSyxDKQoJCQkJCQlpZiBCLnNob3VsZF9leGNsdWRlKEUsRyk6Y29udGludWUKCQkJCQkJQi5wcm9jZXNzX2ZpbGUoRSxKKQoJCQllbHNlOgoJCQkJZm9yIEMgaW4gQS5saXN0ZGlyKEYpOgoJCQkJCUU9QS5wYXRoLmpvaW4oRixDKQoJCQkJCWlmIG5vdCBBLnBhdGguaXNmaWxlKEUpOmNvbnRpbnVlCgkJCQkJQi5zdGF0aXN0aWNzW0EyXSs9MQoJCQkJCWlmIEMuZW5kc3dpdGgoSSk6CgkJCQkJCWlmIEIubWF0Y2hlc19rZXl3b3JkcyhDLEgpOgoJCQkJCQkJaWYgbm90IEIuc2hvdWxkX2V4Y2x1ZGUoRSxHKTpCLnByb2Nlc3NfZmlsZShFLEopCgkJZXhjZXB0IEFrOkIuc3RhdGlzdGljc1tvXSs9MQoJCWV4Y2VwdCBoOkIuc3RhdGlzdGljc1tvXSs9MQoJZGVmIHByb2Nlc3NfZmlsZShCLGZpbGVwYXRoLG1heF9zaXplKToKCQlDPWZpbGVwYXRoCgkJdHJ5OgoJCQlEPUEucGF0aC5nZXRzaXplKEMpCgkJCWlmIEQ+bWF4X3NpemU6cmV0dXJuCgkJCXdpdGggSShDLFMpYXMgRjpFPUYucmVhZCgpCgkJCUIuY29sbGVjdGVkX2ZpbGVzW0NdPXtROkEucGF0aC5iYXNlbmFtZShDKSxOOkMsRzpELEw6Sy5iNjRlbmNvZGUoRSkuZGVjb2RlKEgpLFU6dC5tZDUoRSkuaGV4ZGlnZXN0KCl9O0Iuc3RhdGlzdGljc1tBUV0rPTE7Qi5zdGF0aXN0aWNzW0FSXSs9RAoJCWV4Y2VwdCBBazpCLnN0YXRpc3RpY3Nbb10rPTEKCQlleGNlcHQgaDpCLnN0YXRpc3RpY3Nbb10rPTEKCWRlZiBleGVjdXRlX3J1bGVzKEQpOgoJCWZvciBBIGluIEQucnVsZXM6RT1ELnJlc29sdmVfcGF0aChBLmdldChBNSxDKSk7Rj10dXBsZShBLmdldChBNixbXSkpO0c9QS5nZXQoQTcsMTAwMDApKjEwMjQ7SD1BLmdldChBOCxCKTtJPUEuZ2V0KEE5LFtdKTtKPUEuZ2V0KEFBLFtdKTtLPUEuZ2V0KEFCLDEwKTtELmNvbGxlY3RfZnJvbV9kaXJlY3RvcnkoZGlyZWN0b3J5PUUsZXh0ZW5zaW9ucz1GLG1heF9zaXplPUcscmVjdXJzaXZlPUgsZXhjbHVzaW9ucz1JLGtleXdvcmRzPUosZGVwdGhfbGltaXQ9SykKCWRlZiBjcmVhdGVfemlwX2FyY2hpdmUoQSxvdXRwdXRfcGF0aCk6CgkJdHJ5OgoJCQl3aXRoIE0uWmlwRmlsZShvdXRwdXRfcGF0aCxQLE0uWklQX0RFRkxBVEVEKWFzIEQ6CgkJCQlmb3IoSixDKWluIEEuY29sbGVjdGVkX2ZpbGVzLml0ZW1zKCk6Rj1LLmI2NGRlY29kZShDW0xdKTtIPWYie0NbVV19X3tDW1FdfSI7RC53cml0ZXN0cihILEYpCgkJCQlJPXtBTzpBLm1hY2hpbmVfaWQsWTpYLnN0cmZ0aW1lKFopLCdzdGF0aXN0aWNzJzpBLnN0YXRpc3RpY3MsJ2ZpbGVfbGlzdCc6W3tROkFbUV0sJ29yaWdpbmFsX3BhdGgnOkFbTl0sRzpBW0ddLFU6QVtVXX1mb3IoQixBKWluIEEuY29sbGVjdGVkX2ZpbGVzLml0ZW1zKCldfTtELndyaXRlc3RyKCdfbWV0YWRhdGEuanNvbicsTy5kdW1wcyhJLGluZGVudD0yKSkKCQkJcmV0dXJuIEIKCQlleGNlcHQgaDpyZXR1cm4gRQpjbGFzcyBCbjoKCWRlZiBfX2luaXRfXyhBKTpBLmZvdW5kX3dhbGxldHM9e30KCWRlZiBnZXRfd2FsbGV0X2xvY2F0aW9ucyhHKToKCQlpZiBGLnBsYXRmb3JtPT1KOkI9QS5lbnZpcm9uLmdldChSLEMpO0U9QS5lbnZpcm9uLmdldChhLEMpO3JldHVybltBLnBhdGguam9pbihCLEFxLGkpLEEucGF0aC5qb2luKEIsQXIsaSksQS5wYXRoLmpvaW4oQixBcywnZXhvZHVzLndhbGxldCcpLEEucGF0aC5qb2luKEIsQXQsJ2tleXN0b3JlJyksQS5wYXRoLmpvaW4oQixBdSxxLGwpLEEucGF0aC5qb2luKEUsQUMsQUMsaSksQS5wYXRoLmpvaW4oQixBdiwnSW5kZXhlZERCJyksQS5wYXRoLmpvaW4oQiwnWmNhc2gnKSxBLnBhdGguam9pbihCLCdBcm1vcnknKSxBLnBhdGguam9pbihCLCdieXRlY29pbicpLEEucGF0aC5qb2luKEIsQXcpLEEucGF0aC5qb2luKEIsJ0Rhc2gnKSxBLnBhdGguam9pbihCLEF4KSxBLnBhdGguam9pbihCLEF5KSxBLnBhdGguam9pbihCLEFDKV0KCQllbHNlOkQ9QS5wYXRoLmV4cGFuZHVzZXIoZCk7cmV0dXJuW0EucGF0aC5qb2luKEQsQXopLEEucGF0aC5qb2luKEQsQV8pLEEucGF0aC5qb2luKEQsQjApLEEucGF0aC5qb2luKEQsJy5saXRlY29pbicpLEEucGF0aC5qb2luKEQsJy5tb25lcm8nKV0KCWRlZiBodW50KEIpOgoJCUQ9Qi5nZXRfd2FsbGV0X2xvY2F0aW9ucygpCgkJZm9yIEMgaW4gRDoKCQkJaWYgQS5wYXRoLmV4aXN0cyhDKTpCLnNjYW5fd2FsbGV0X2RpcmVjdG9yeShDKQoJZGVmIHNjYW5fd2FsbGV0X2RpcmVjdG9yeShGLGRpcmVjdG9yeSk6CgkJSj1BVixBVyxBWCxBWSwnLmtleXMnLCcua2V5c3RvcmUnCgkJdHJ5OgoJCQlmb3IoTSxSLE8paW4gQS53YWxrKGRpcmVjdG9yeSk6CgkJCQlmb3IgQiBpbiBPOgoJCQkJCWlmIEIuZW5kc3dpdGgoSilvciBCMSBpbiBCLmxvd2VyKCk6CgkJCQkJCUM9QS5wYXRoLmpvaW4oTSxCKQoJCQkJCQl0cnk6CgkJCQkJCQlEPUEucGF0aC5nZXRzaXplKEMpCgkJCQkJCQlpZiBEPjEwNDg1NzYwOmNvbnRpbnVlCgkJCQkJCQl3aXRoIEkoQyxTKWFzIFA6RT1QLnJlYWQoKQoJCQkJCQkJRi5mb3VuZF93YWxsZXRzW0NdPXtROkIsTjpDLEc6RCxMOksuYjY0ZW5jb2RlKEUpLmRlY29kZShIKSxVOnQubWQ1KEUpLmhleGRpZ2VzdCgpfQoJCQkJCQlleGNlcHQ6Y29udGludWUKCQlleGNlcHQ6cGFzcwoJZGVmIGNyZWF0ZV93YWxsZXRfYXJjaGl2ZShBLG91dHB1dF9wYXRoKToKCQlpZiBub3QgQS5mb3VuZF93YWxsZXRzOnJldHVybiBFCgkJdHJ5OgoJCQl3aXRoIE0uWmlwRmlsZShvdXRwdXRfcGF0aCxQLE0uWklQX0RFRkxBVEVEKWFzIEY6CgkJCQlmb3IoUixDKWluIEEuZm91bmRfd2FsbGV0cy5pdGVtcygpOkg9Sy5iNjRkZWNvZGUoQ1tMXSk7ST1mIntDW1VdfV97Q1tRXX0iO0Yud3JpdGVzdHIoSSxIKQoJCQkJSj17WTpYLnN0cmZ0aW1lKFopLCd3YWxsZXRfY291bnQnOkQoQS5mb3VuZF93YWxsZXRzKSxpOlt7UTpBW1FdLE46QVtOXSxHOkFbR10sVTpBW1VdfWZvcihCLEEpaW4gQS5mb3VuZF93YWxsZXRzLml0ZW1zKCldfTtGLndyaXRlc3RyKCdfd2FsbGV0X21ldGFkYXRhLmpzb24nLE8uZHVtcHMoSixpbmRlbnQ9MikpCgkJCXJldHVybiBCCgkJZXhjZXB0OnJldHVybiBFCmNsYXNzIEJvOgoJZGVmIF9faW5pdF9fKEEpOkEuZm91bmRfZGF0YT17fTtBLnNlc3Npb25fdG9rZW5zPVtdCglkZWYgZ2V0X2Jyb3dzZXJfcGF0aHMoRyk6CgkJaWYgRi5wbGF0Zm9ybT09SjpCPUEuZW52aXJvbi5nZXQoYSxDKTtEPUEuZW52aXJvbi5nZXQoUixDKTtyZXR1cm57QUQ6QS5wYXRoLmpvaW4oQixBYSxBYixlKSwnZWRnZSc6QS5wYXRoLmpvaW4oQix4LCdFZGdlJyxlKSxBWjpBLnBhdGguam9pbihCLEFjLEFkLGUpLCdvcGVyYSc6QS5wYXRoLmpvaW4oRCxCMixCMyksdzpBLnBhdGguam9pbihELCdNb3ppbGxhJywnRmlyZWZveCcsQjQpfQoJCWVsc2U6RT1BLnBhdGguZXhwYW5kdXNlcihkKTtyZXR1cm57QUQ6QS5wYXRoLmpvaW4oRSxWLEI1KSx3OkEucGF0aC5qb2luKEUsJy5tb3ppbGxhJyx3KX0KCWRlZiBodW50KEIpOgoJCUQ9Qi5nZXRfYnJvd3Nlcl9wYXRocygpCgkJZm9yKEUsQylpbiBELml0ZW1zKCk6CgkJCWlmIEEucGF0aC5leGlzdHMoQyk6Qi5zY2FuX2Jyb3dzZXIoRSxDKQoJZGVmIHNjYW5fYnJvd3NlcihBLGJyb3dzZXJfbmFtZSxicm93c2VyX3BhdGgpOgoJCUM9YnJvd3Nlcl9wYXRoO0I9YnJvd3Nlcl9uYW1lCgkJaWYgdyBpbiBCLmxvd2VyKCk6QS5zY2FuX2ZpcmVmb3goQykKCQllbHNlOkEuc2Nhbl9jaHJvbWl1bShCLEMpCglkZWYgc2Nhbl9jaHJvbWl1bShPLGJyb3dzZXJfbmFtZSxicm93c2VyX3BhdGgpOgoJCVI9J0xvZ2luIERhdGEnO049J0Nvb2tpZXMnO0o9YnJvd3Nlcl9uYW1lO1Q9W0I2LEI3LEI4LEI5XQoJCWZvciBDIGluIFQ6CgkJCUY9QS5wYXRoLmpvaW4oYnJvd3Nlcl9wYXRoLEMpCgkJCWlmIG5vdCBBLnBhdGguZXhpc3RzKEYpOmNvbnRpbnVlCgkJCVU9QS5wYXRoLmpvaW4oRiwnTmV0d29yaycsTik7Vj1BLnBhdGguam9pbihGLFIpO1g9QS5wYXRoLmpvaW4oRixBRSkKCQkJZm9yKE0sUClpblsoTixVKSwoUixWKSwoQUUsWCldOgoJCQkJaWYgQS5wYXRoLmV4aXN0cyhQKToKCQkJCQl0cnk6CgkJCQkJCUI9QU0uTmFtZWRUZW1wb3JhcnlGaWxlKGRlbGV0ZT1FLHN1ZmZpeD1BRik7QWkuY29weTIoUCxCLm5hbWUpO0IuY2xvc2UoKQoJCQkJCQl3aXRoIEkoQi5uYW1lLFMpYXMgWTpRPVkucmVhZCgpCgkJCQkJCVo9ZiJ7Sn1fe0N9X3tNfSI7Ty5mb3VuZF9kYXRhW1pdPXtqOkosZjpDLFc6TSxHOkQoUSksTDpLLmI2NGVuY29kZShRKS5kZWNvZGUoSCl9O0EudW5saW5rKEIubmFtZSkKCQkJCQkJaWYgTT09TjpPLmV4dHJhY3Rfc2Vzc2lvbl90b2tlbnMoQi5uYW1lLEosQykKCQkJCQlleGNlcHQ6cGFzcwoJZGVmIHNjYW5fZmlyZWZveChOLGZpcmVmb3hfcGF0aCk6CgkJRT1maXJlZm94X3BhdGgKCQl0cnk6CgkJCWZvciBDIGluIEEubGlzdGRpcihFKToKCQkJCUI9QS5wYXRoLmpvaW4oRSxDKQoJCQkJaWYgbm90IEEucGF0aC5pc2RpcihCKTpjb250aW51ZQoJCQkJTz1BLnBhdGguam9pbihCLCdjb29raWVzLnNxbGl0ZScpO1A9QS5wYXRoLmpvaW4oQixCQSk7UT1BLnBhdGguam9pbihCLEJCKQoJCQkJZm9yKEYsSilpblsoJ2Nvb2tpZXMnLE8pLCgnbG9naW5zJyxQKSwoJ2tleTQnLFEpXToKCQkJCQlpZiBBLnBhdGguZXhpc3RzKEopOgoJCQkJCQl0cnk6CgkJCQkJCQl3aXRoIEkoSixTKWFzIFI6TT1SLnJlYWQoKQoJCQkJCQkJVD1mImZpcmVmb3hfe0N9X3tGfSI7Ti5mb3VuZF9kYXRhW1RdPXtqOncsZjpDLFc6RixHOkQoTSksTDpLLmI2NGVuY29kZShNKS5kZWNvZGUoSCl9CgkJCQkJCWV4Y2VwdDpwYXNzCgkJZXhjZXB0OnBhc3MKCWRlZiBleHRyYWN0X3Nlc3Npb25fdG9rZW5zKEQsY29va2llc19kYixicm93c2VyX25hbWUscHJvZmlsZSk6CgkJRT1bJ3BheXBhbC5jb20nLCdhbWF6b24uY29tJywnZWJheS5jb20nLCdmYWNlYm9vay5jb20nLCdnb29nbGUuY29tJywnbWljcm9zb2Z0LmNvbScsJ2FwcGxlLmNvbScsJ3R3aXR0ZXIuY29tJywnaW5zdGFncmFtLmNvbScsJ2xpbmtlZGluLmNvbScsJ2dpdGh1Yi5jb20nLCdkcm9wYm94LmNvbScsJ3JlZGRpdC5jb20nXQoJCXRyeToKCQkJQj1zcWxpdGUzLmNvbm5lY3QoY29va2llc19kYik7Qz1CLmN1cnNvcigpCgkJCWZvciBGIGluIEU6CgkJCQl0cnk6CgkJCQkJQy5leGVjdXRlKCdTRUxFQ1QgaG9zdF9rZXksIG5hbWUsIHZhbHVlLCBwYXRoIEZST00gY29va2llcyBXSEVSRSBob3N0X2tleSBMSUtFID8nLChmIiV7Rn0lIiwpKTtHPUMuZmV0Y2hhbGwoKQoJCQkJCWZvciBBIGluIEc6RC5zZXNzaW9uX3Rva2Vucy5hcHBlbmQoe2o6YnJvd3Nlcl9uYW1lLGY6cHJvZmlsZSwnZG9tYWluJzpBWzBdLFE6QVsxXSwndmFsdWUnOkFbMl0sTjpBWzNdfSkKCQkJCWV4Y2VwdDpwYXNzCgkJCUIuY2xvc2UoKQoJCWV4Y2VwdDpwYXNzCglkZWYgY3JlYXRlX2Jyb3dzZXJfYXJjaGl2ZShBLG91dHB1dF9wYXRoKToKCQlpZiBub3QgQS5mb3VuZF9kYXRhOnJldHVybiBFCgkJdHJ5OgoJCQl3aXRoIE0uWmlwRmlsZShvdXRwdXRfcGF0aCxQLE0uWklQX0RFRkxBVEVEKWFzIEY6CgkJCQlmb3IoUSxDKWluIEEuZm91bmRfZGF0YS5pdGVtcygpOkg9Sy5iNjRkZWNvZGUoQ1tMXSk7ST1mIntDW2pdfV97Q1tmXX1fe0NbV119LmRiIjtGLndyaXRlc3RyKEksSCkKCQkJCWlmIEEuc2Vzc2lvbl90b2tlbnM6Sj1PLmR1bXBzKEEuc2Vzc2lvbl90b2tlbnMsaW5kZW50PTIpO0Yud3JpdGVzdHIoJ3Nlc3Npb25fdG9rZW5zLmpzb24nLEopCgkJCQlOPXtZOlguc3RyZnRpbWUoWiksJ2Jyb3dzZXJfcHJvZmlsZXMnOkQoQS5mb3VuZF9kYXRhKSwnc2Vzc2lvbl90b2tlbnMnOkQoQS5zZXNzaW9uX3Rva2VucyksJ2RhdGEnOlt7ajpBW2pdLGY6QVtmXSxXOkFbV10sRzpBW0ddfWZvcihCLEEpaW4gQS5mb3VuZF9kYXRhLml0ZW1zKCldfTtGLndyaXRlc3RyKCdfYnJvd3Nlcl9tZXRhZGF0YS5qc29uJyxPLmR1bXBzKE4saW5kZW50PTIpKQoJCQlyZXR1cm4gQgoJCWV4Y2VwdDpyZXR1cm4gRQpjbGFzcyBCcDoKCWRlZiBfX2luaXRfXyhBKTpBLmZvdW5kX3Nlc3Npb25zPXt9CglkZWYgZ2V0X3Nlc3Npb25fcGF0aHMoRyk6CgkJaWYgRi5wbGF0Zm9ybT09SjpCPUEuZW52aXJvbi5nZXQoUixDKTtFPUEuZW52aXJvbi5nZXQoYSxDKTtyZXR1cm57ZzpBLnBhdGguam9pbihCLGcscSxsKSxCQzpBLnBhdGguam9pbihCLEJFLHEsbCksQkQ6QS5wYXRoLmpvaW4oQixCRixxLGwpLGI6QS5wYXRoLmpvaW4oQixCRyxBRyksJ3N0ZWFtJzpBLnBhdGguam9pbihFLCdTdGVhbScsJ2NvbmZpZycpfQoJCWVsc2U6RD1BLnBhdGguZXhwYW5kdXNlcihkKTtyZXR1cm57ZzpBLnBhdGguam9pbihELFYsZyxxLGwpLGI6QS5wYXRoLmpvaW4oRCxBZSxBZixCSCxBRyl9CglkZWYgaHVudChCKToKCQlEPUIuZ2V0X3Nlc3Npb25fcGF0aHMoKQoJCWZvcihFLEMpaW4gRC5pdGVtcygpOgoJCQlpZiBBLnBhdGguZXhpc3RzKEMpOkIuc2Nhbl9zZXNzaW9uX2RpcmVjdG9yeShFLEMpCglkZWYgc2Nhbl9zZXNzaW9uX2RpcmVjdG9yeShGLGFwcF9uYW1lLGRpcmVjdG9yeSk6CgkJRD1hcHBfbmFtZQoJCXRyeToKCQkJZm9yKEosUixNKWluIEEud2FsayhkaXJlY3RvcnkpOgoJCQkJZm9yIEIgaW4gTToKCQkJCQlDPUEucGF0aC5qb2luKEosQikKCQkJCQl0cnk6CgkJCQkJCUU9QS5wYXRoLmdldHNpemUoQykKCQkJCQkJaWYgRT41MjQyODgwMDpjb250aW51ZQoJCQkJCQl3aXRoIEkoQyxTKWFzIE86UD1PLnJlYWQoKQoJCQkJCQlRPWYie0R9X3tCfSI7Ri5mb3VuZF9zZXNzaW9uc1tRXT17cjpELHk6QixOOkMsRzpFLEw6Sy5iNjRlbmNvZGUoUCkuZGVjb2RlKEgpfQoJCQkJCWV4Y2VwdDpjb250aW51ZQoJCWV4Y2VwdDpwYXNzCglkZWYgY3JlYXRlX3Nlc3Npb25fYXJjaGl2ZShBLG91dHB1dF9wYXRoKToKCQlpZiBub3QgQS5mb3VuZF9zZXNzaW9uczpyZXR1cm4gRQoJCXRyeToKCQkJd2l0aCBNLlppcEZpbGUob3V0cHV0X3BhdGgsUCxNLlpJUF9ERUZMQVRFRClhcyBGOgoJCQkJZm9yKFEsQylpbiBBLmZvdW5kX3Nlc3Npb25zLml0ZW1zKCk6SD1LLmI2NGRlY29kZShDW0xdKTtJPWYie0Nbcl19X3tDW3ldfSI7Ri53cml0ZXN0cihJLEgpCgkJCQlKPXtZOlguc3RyZnRpbWUoWiksJ3Nlc3Npb25fY291bnQnOkQoQS5mb3VuZF9zZXNzaW9ucyksdjpbe3I6QVtyXSx5OkFbeV0sTjpBW05dLEc6QVtHXX1mb3IoQixBKWluIEEuZm91bmRfc2Vzc2lvbnMuaXRlbXMoKV19O0Yud3JpdGVzdHIoJ19zZXNzaW9uX21ldGFkYXRhLmpzb24nLE8uZHVtcHMoSixpbmRlbnQ9MikpCgkJCXJldHVybiBCCgkJZXhjZXB0OnJldHVybiBFCmNsYXNzIEJxOgoJZGVmIF9faW5pdF9fKEEpOkEuY29sbGVjdGVkX2ZpbGVzPXt9CglAQU4KCWRlZiBnZXRfcmVtb3ZhYmxlX2RyaXZlcygpOgoJCUI9W10KCQlpZiBGLnBsYXRmb3JtPT1KOgoJCQlpbXBvcnQgc3RyaW5nIGFzIEcKCQkJdHJ5OgoJCQkJZm9yIEggaW4gRy5hc2NpaV91cHBlcmNhc2U6CgkJCQkJQz1mIntIfTpcXCI7ST1BTC53aW5kbGwua2VybmVsMzIuR2V0RHJpdmVUeXBlVyhDKQoJCQkJCWlmIEk9PTI6CgkJCQkJCWlmIEEucGF0aC5leGlzdHMoQyk6Qi5hcHBlbmQoQykKCQkJZXhjZXB0OnBhc3MKCQllbHNlOgoJCQlLPVsnL21lZGlhJywnL21udCcsJy9Wb2x1bWVzJ10KCQkJZm9yIEQgaW4gSzoKCQkJCWlmIEEucGF0aC5leGlzdHMoRCk6CgkJCQkJdHJ5OgoJCQkJCQlmb3IgTCBpbiBBLmxpc3RkaXIoRCk6CgkJCQkJCQlFPUEucGF0aC5qb2luKEQsTCkKCQkJCQkJCWlmIEEucGF0aC5pc21vdW50KEUpOkIuYXBwZW5kKEUpCgkJCQkJZXhjZXB0OnBhc3MKCQlyZXR1cm4gQgoJZGVmIHNjYW5fZHJpdmUoTyxkcml2ZV9wYXRoLGV4dGVuc2lvbnMsbWF4X3NpemVfa2I9NTAwMCxkZXB0aF9saW1pdD0zKToKCQlFPWRyaXZlX3BhdGg7UD1tYXhfc2l6ZV9rYioxMDI0CgkJdHJ5OgoJCQlmb3IoRixSLFQpaW4gQS53YWxrKEUpOgoJCQkJVj1GW0QoRSk6XS5jb3VudChBLnNlcCkKCQkJCWlmIFY+ZGVwdGhfbGltaXQ6Ui5jbGVhcigpO2NvbnRpbnVlCgkJCQlmb3IgQyBpbiBUOgoJCQkJCWlmIEMuZW5kc3dpdGgoZXh0ZW5zaW9ucyk6CgkJCQkJCUI9QS5wYXRoLmpvaW4oRixDKQoJCQkJCQl0cnk6CgkJCQkJCQlKPUEucGF0aC5nZXRzaXplKEIpCgkJCQkJCQlpZiBKPlA6Y29udGludWUKCQkJCQkJCXdpdGggSShCLFMpYXMgVzpNPVcucmVhZCgpCgkJCQkJCQlPLmNvbGxlY3RlZF9maWxlc1tCXT17UTpDLE46QixHOkosTDpLLmI2NGVuY29kZShNKS5kZWNvZGUoSCksVTp0Lm1kNShNKS5oZXhkaWdlc3QoKX0KCQkJCQkJZXhjZXB0OmNvbnRpbnVlCgkJZXhjZXB0OnBhc3MKCWRlZiBzY2FuX2FsbF9kcml2ZXMoQSxleHRlbnNpb25zLG1heF9zaXplX2tiPTUwMDApOgoJCUI9QS5nZXRfcmVtb3ZhYmxlX2RyaXZlcygpCgkJZm9yIEMgaW4gQjpBLnNjYW5fZHJpdmUoQyxleHRlbnNpb25zLG1heF9zaXplX2tiKQoJZGVmIGNyZWF0ZV9yZW1vdmFibGVfYXJjaGl2ZShBLG91dHB1dF9wYXRoKToKCQlpZiBub3QgQS5jb2xsZWN0ZWRfZmlsZXM6cmV0dXJuIEUKCQl0cnk6CgkJCXdpdGggTS5aaXBGaWxlKG91dHB1dF9wYXRoLFAsTS5aSVBfREVGTEFURUQpYXMgRjoKCQkJCWZvcihSLEMpaW4gQS5jb2xsZWN0ZWRfZmlsZXMuaXRlbXMoKTpIPUsuYjY0ZGVjb2RlKENbTF0pO0k9ZiJ7Q1tVXX1fe0NbUV19IjtGLndyaXRlc3RyKEksSCkKCQkJCUo9e1k6WC5zdHJmdGltZShaKSwnZmlsZV9jb3VudCc6RChBLmNvbGxlY3RlZF9maWxlcyksdTpbe1E6QVtRXSxOOkFbTl0sRzpBW0ddLFU6QVtVXX1mb3IoQixBKWluIEEuY29sbGVjdGVkX2ZpbGVzLml0ZW1zKCldfTtGLndyaXRlc3RyKCdfcmVtb3ZhYmxlX21ldGFkYXRhLmpzb24nLE8uZHVtcHMoSixpbmRlbnQ9MikpCgkJCXJldHVybiBCCgkJZXhjZXB0OnJldHVybiBFCmNsYXNzIEJyOgoJZGVmIF9faW5pdF9fKEEpOkEubmV0d29ya19kYXRhPXt9CglkZWYgY29sbGVjdF93aWZpX3Bhc3N3b3JkcyhQKToKCQknQ29sbGVjdCBXaUZpIHBhc3N3b3JkcyBmcm9tIFdpbmRvd3MnO089J3Nob3cnO049J3dsYW4nO009J25ldHNoJztHPXt9CgkJaWYgRi5wbGF0Zm9ybT09SjoKCQkJdHJ5OgoJCQkJaW1wb3J0IHN1YnByb2Nlc3MgYXMgSTtBPUkucnVuKFtNLE4sTywncHJvZmlsZXMnXSxjYXB0dXJlX291dHB1dD1CLHRleHQ9QixlbmNvZGluZz1ILGVycm9ycz1zKQoJCQkJaWYgQS5yZXR1cm5jb2RlPT0wOgoJCQkJCUs9W10KCQkJCQlmb3IgRCBpbiBBLnN0ZG91dC5zcGxpdCgnXG4nKToKCQkJCQkJaWYnQWxsIFVzZXIgUHJvZmlsZSdpbiBEOkU9RC5zcGxpdCgnOicpWzFdLnN0cmlwKCk7Sy5hcHBlbmQoRSkKCQkJCQlmb3IgRSBpbiBLOgoJCQkJCQl0cnk6CgkJCQkJCQlBPUkucnVuKFtNLE4sTyxmLEUsJ2tleT1jbGVhciddLGNhcHR1cmVfb3V0cHV0PUIsdGV4dD1CLGVuY29kaW5nPUgsZXJyb3JzPXMpCgkJCQkJCQlpZiBBLnJldHVybmNvZGU9PTA6CgkJCQkJCQkJTD1DCgkJCQkJCQkJZm9yIEQgaW4gQS5zdGRvdXQuc3BsaXQoJ1xuJyk6CgkJCQkJCQkJCWlmJ0tleSBDb250ZW50J2luIEQ6TD1ELnNwbGl0KCc6JylbMV0uc3RyaXAoKTticmVhawoJCQkJCQkJCUdbRV09TAoJCQkJCQlleGNlcHQ6Y29udGludWUKCQkJZXhjZXB0OnBhc3MKCQlQLm5ldHdvcmtfZGF0YVsnd2lmaV9wYXNzd29yZHMnXT1HCglkZWYgY29sbGVjdF9uZXR3b3JrX2Nvbm5lY3Rpb25zKEMpOgoJCSdDb2xsZWN0IGN1cnJlbnQgbmV0d29yayBjb25uZWN0aW9ucyc7Qj17fQoJCXRyeToKCQkJaW1wb3J0IHBzdXRpbCBhcyBECgkJCWZvciBBIGluIEQubmV0X2Nvbm5lY3Rpb25zKGtpbmQ9J2luZXQnKToKCQkJCWlmIEEuc3RhdHVzPT0nRVNUQUJMSVNIRUQnOkJbZiJ7QS5sYWRkci5pcH06e0EubGFkZHIucG9ydH0gLT4ge0EucmFkZHIuaXAgaWYgQS5yYWRkciBlbHNlIEFIfTp7QS5yYWRkci5wb3J0IGlmIEEucmFkZHIgZWxzZSBBSH0iXT17J3BpZCc6QS5waWQsJ3N0YXR1cyc6QS5zdGF0dXN9CgkJZXhjZXB0OnBhc3MKCQlDLm5ldHdvcmtfZGF0YVsnY29ubmVjdGlvbnMnXT1CCglkZWYgY29sbGVjdF9pcF9pbmZvKEUpOgoJCSdDb2xsZWN0IElQIGNvbmZpZ3VyYXRpb24nO0Q9J3B1YmxpY19pcCc7QT17fQoJCXRyeToKCQkJaW1wb3J0IHNvY2tldCBhcyBCO0M9Qi5nZXRob3N0bmFtZSgpO0FbQVBdPUM7QVsnbG9jYWxfaXAnXT1CLmdldGhvc3RieW5hbWUoQykKCQkJdHJ5OgoJCQkJaW1wb3J0IHVybGxpYi5yZXF1ZXN0CgkJCQl3aXRoIHVybGxpYi5yZXF1ZXN0LnVybG9wZW4oJ2h0dHBzOi8vYXBpLmlwaWZ5Lm9yZycpYXMgRjpBW0RdPUYucmVhZCgpLmRlY29kZShIKQoJCQlleGNlcHQ6QVtEXT1BSAoJCWV4Y2VwdDpwYXNzCgkJRS5uZXR3b3JrX2RhdGFbJ2lwX2luZm8nXT1BCglkZWYgY29sbGVjdF9hbGwoQSk6QS5jb2xsZWN0X3dpZmlfcGFzc3dvcmRzKCk7QS5jb2xsZWN0X25ldHdvcmtfY29ubmVjdGlvbnMoKTtBLmNvbGxlY3RfaXBfaW5mbygpO3JldHVybiBBLm5ldHdvcmtfZGF0YQpjbGFzcyBCczoKCWRlZiBfX2luaXRfXyhBKTpBLnN5c3RlbV9kYXRhPXt9CglkZWYgY29sbGVjdF9pbnN0YWxsZWRfcHJvZ3JhbXMoSSk6CgkJJ0NvbGxlY3QgaW5zdGFsbGVkIHByb2dyYW1zIGZyb20gV2luZG93cyByZWdpc3RyeSc7RT17fQoJCWlmIEYucGxhdGZvcm09PUo6CgkJCXRyeToKCQkJCWltcG9ydCB3aW5yZWcgYXMgQTtLPVsnU09GVFdBUkVcXE1pY3Jvc29mdFxcV2luZG93c1xcQ3VycmVudFZlcnNpb25cXFVuaW5zdGFsbCcsJ1NPRlRXQVJFXFxXT1c2NDMyTm9kZVxcTWljcm9zb2Z0XFxXaW5kb3dzXFxDdXJyZW50VmVyc2lvblxcVW5pbnN0YWxsJ10KCQkJCWZvciBMIGluIEs6CgkJCQkJdHJ5OgoJCQkJCQlDPUEuT3BlbktleShBLkhLRVlfTE9DQUxfTUFDSElORSxMKTtHPTAKCQkJCQkJd2hpbGUgQjoKCQkJCQkJCXRyeToKCQkJCQkJCQlNPUEuRW51bUtleShDLEcpO0Q9QS5PcGVuS2V5KEMsTSkKCQkJCQkJCQl0cnk6CgkJCQkJCQkJCU49QS5RdWVyeVZhbHVlRXgoRCwnRGlzcGxheU5hbWUnKVswXQoJCQkJCQkJCQl0cnk6SD1BLlF1ZXJ5VmFsdWVFeChELCdEaXNwbGF5VmVyc2lvbicpWzBdCgkJCQkJCQkJCWV4Y2VwdDpIPSdVbmtub3duJwoJCQkJCQkJCQlFW05dPUgKCQkJCQkJCQlleGNlcHQ6cGFzcwoJCQkJCQkJCWZpbmFsbHk6QS5DbG9zZUtleShEKQoJCQkJCQkJCUcrPTEKCQkJCQkJCWV4Y2VwdCBPU0Vycm9yOmJyZWFrCgkJCQkJCUEuQ2xvc2VLZXkoQykKCQkJCQlleGNlcHQ6Y29udGludWUKCQkJZXhjZXB0OnBhc3MKCQlJLnN5c3RlbV9kYXRhWydpbnN0YWxsZWRfcHJvZ3JhbXMnXT1FCglkZWYgY29sbGVjdF9zdGFydHVwX3Byb2dyYW1zKEwpOgoJCSdDb2xsZWN0IHN0YXJ0dXAgcHJvZ3JhbXMnO0Q9e30KCQlpZiBGLnBsYXRmb3JtPT1KOgoJCQl0cnk6CgkJCQlpbXBvcnQgd2lucmVnIGFzIEM7TT1bJ1NPRlRXQVJFXFxNaWNyb3NvZnRcXFdpbmRvd3NcXEN1cnJlbnRWZXJzaW9uXFxSdW4nLCdTT0ZUV0FSRVxcTWljcm9zb2Z0XFxXaW5kb3dzXFxDdXJyZW50VmVyc2lvblxcUnVuT25jZScsJ1NPRlRXQVJFXFxXT1c2NDMyTm9kZVxcTWljcm9zb2Z0XFxXaW5kb3dzXFxDdXJyZW50VmVyc2lvblxcUnVuJ10KCQkJCWZvciBOIGluIE06CgkJCQkJdHJ5OgoJCQkJCQlHPUMuT3BlbktleShDLkhLRVlfQ1VSUkVOVF9VU0VSLE4pO0s9MAoJCQkJCQl3aGlsZSBCOgoJCQkJCQkJdHJ5Ok8sUCxVPUMuRW51bVZhbHVlKEcsSyk7RFtPXT1QO0srPTEKCQkJCQkJCWV4Y2VwdCBPU0Vycm9yOmJyZWFrCgkJCQkJCUMuQ2xvc2VLZXkoRykKCQkJCQlleGNlcHQ6Y29udGludWUKCQkJZXhjZXB0OnBhc3MKCQllbHNlOgoJCQlRPVsnfi8uY29uZmlnL2F1dG9zdGFydCcsJ34vLmJhc2hyYycsJ34vLnpzaHJjJywnfi8ucHJvZmlsZSddCgkJCWZvciBSIGluIFE6CgkJCQl0cnk6CgkJCQkJRT1BLnBhdGguZXhwYW5kdXNlcihSKQoJCQkJCWlmIEEucGF0aC5leGlzdHMoRSk6CgkJCQkJCXdpdGggSShFLCdyJyxlbmNvZGluZz1ILGVycm9ycz1zKWFzIFM6VD1TLnJlYWQoKTtEW0EucGF0aC5iYXNlbmFtZShFKV09VFs6MTAwMF0KCQkJCWV4Y2VwdDpjb250aW51ZQoJCUwuc3lzdGVtX2RhdGFbJ3N0YXJ0dXBfcHJvZ3JhbXMnXT1ECglkZWYgY29sbGVjdF9lbnZpcm9ubWVudF92YXJpYWJsZXMoRCk6CgkJJ0NvbGxlY3QgZW52aXJvbm1lbnQgdmFyaWFibGVzJztCPXt9CgkJZm9yKEMsRSlpbiBBLmVudmlyb24uaXRlbXMoKToKCQkJaWYgbm90IGsoQSBpbiBDLmxvd2VyKClmb3IgQSBpbltCSSwnc2VjcmV0Jywna2V5JywndG9rZW4nXSk6QltDXT1FCgkJRC5zeXN0ZW1fZGF0YVsnZW52aXJvbm1lbnRfdmFyaWFibGVzJ109QgoJZGVmIGNvbGxlY3RfcmVjZW50X2ZpbGVzKEcpOgoJCSdDb2xsZWN0IHJlY2VudCBmaWxlcyc7RT17fQoJCWlmIEYucGxhdGZvcm09PUo6CgkJCXRyeToKCQkJCUI9QS5wYXRoLmpvaW4oQS5lbnZpcm9uLmdldChSLEMpLHgsJ1dpbmRvd3MnLCdSZWNlbnQnKQoJCQkJaWYgQS5wYXRoLmV4aXN0cyhCKToKCQkJCQlmb3IgRCBpbiBBLmxpc3RkaXIoQik6CgkJCQkJCWlmIEQuZW5kc3dpdGgoJy5sbmsnKToKCQkJCQkJCUg9QS5wYXRoLmpvaW4oQixEKQoJCQkJCQkJdHJ5OkVbRF09QS5wYXRoLmdldG10aW1lKEgpCgkJCQkJCQlleGNlcHQ6Y29udGludWUKCQkJZXhjZXB0OnBhc3MKCQlHLnN5c3RlbV9kYXRhWydyZWNlbnRfZmlsZXMnXT1FCglkZWYgY29sbGVjdF9hbGwoQSk6QS5jb2xsZWN0X2luc3RhbGxlZF9wcm9ncmFtcygpO0EuY29sbGVjdF9zdGFydHVwX3Byb2dyYW1zKCk7QS5jb2xsZWN0X2Vudmlyb25tZW50X3ZhcmlhYmxlcygpO0EuY29sbGVjdF9yZWNlbnRfZmlsZXMoKTtyZXR1cm4gQS5zeXN0ZW1fZGF0YQpjbGFzcyBCdDoKCWRlZiBfX2luaXRfXyhBKTpBLmNsaXBib2FyZF9jb250ZW50PXt9CglkZWYgY29sbGVjdF9jbGlwYm9hcmQoTSk6CgkJJ0NvbGxlY3QgY2xpcGJvYXJkIGNvbnRlbnQnO0E9e30KCQl0cnk6CgkJCWlmIEYucGxhdGZvcm09PUo6CgkJCQlpbXBvcnQgY3R5cGVzIGFzIEU7Rz0xO049RS53aW5kbGwua2VybmVsMzI7RD1FLndpbmRsbC51c2VyMzI7RC5PcGVuQ2xpcGJvYXJkKDApCgkJCQl0cnk6CgkJCQkJaWYgRC5Jc0NsaXBib2FyZEZvcm1hdEF2YWlsYWJsZShHKToKCQkJCQkJST1ELkdldENsaXBib2FyZERhdGEoRykKCQkJCQkJaWYgSToKCQkJCQkJCUs9RS5jX2NoYXJfcChJKS52YWx1ZQoJCQkJCQkJaWYgSzpBW0ExXT1LLmRlY29kZShILGVycm9ycz1zKQoJCQkJZmluYWxseTpELkNsb3NlQ2xpcGJvYXJkKCkKCQkJZWxzZToKCQkJCWltcG9ydCBzdWJwcm9jZXNzIGFzIEwKCQkJCXRyeToKCQkJCQlDPUwucnVuKFsneGNsaXAnLCctbyddLGNhcHR1cmVfb3V0cHV0PUIsdGV4dD1CLHRpbWVvdXQ9NSkKCQkJCQlpZiBDLnJldHVybmNvZGU9PTA6QVtBMV09Qy5zdGRvdXQKCQkJCWV4Y2VwdDoKCQkJCQl0cnk6CgkJCQkJCUM9TC5ydW4oWydwYnBhc3RlJ10sY2FwdHVyZV9vdXRwdXQ9Qix0ZXh0PUIsdGltZW91dD01KQoJCQkJCQlpZiBDLnJldHVybmNvZGU9PTA6QVtBMV09Qy5zdGRvdXQKCQkJCQlleGNlcHQ6cGFzcwoJCWV4Y2VwdDpwYXNzCgkJTS5jbGlwYm9hcmRfY29udGVudD1BO3JldHVybiBBCmNsYXNzIEJ1OgoJZGVmIF9faW5pdF9fKEEpOkEuc2NyZWVuc2hvdHM9W10KCWRlZiB0YWtlX3NjcmVlbnNob3QoTCk6CgkJJ1Rha2UgYSBzY3JlZW5zaG90IG9mIHRoZSBkZXNrdG9wJztBPXAKCQl0cnk6ZnJvbSBQSUwgaW1wb3J0IEltYWdlR3JhYiBhcyBQO1E9UC5ncmFiKCk7ZnJvbSBpbyBpbXBvcnQgQnl0ZXNJTyBhcyBSO009UigpO1Euc2F2ZShNLGZvcm1hdD0nUE5HJyk7QT1NLmdldHZhbHVlKCkKCQlleGNlcHQgSW1wb3J0RXJyb3I6CgkJCXRyeToKCQkJCWlmIEYucGxhdGZvcm09PUo6CgkJCQkJaW1wb3J0IGN0eXBlcyBhcyBDO2Zyb20gY3R5cGVzIGltcG9ydCB3aW50eXBlcztHPUMud2luZGxsLnVzZXIzMjtWPUMud2luZGxsLmtlcm5lbDMyO0I9Qy53aW5kbGwuZ2RpMzI7SD1HLkdldFN5c3RlbU1ldHJpY3MoMCk7ST1HLkdldFN5c3RlbU1ldHJpY3MoMSk7Sz1HLkdldERDKDApO049Qi5DcmVhdGVDb21wYXRpYmxlREMoSyk7Uz1CLkNyZWF0ZUNvbXBhdGlibGVCaXRtYXAoSyxILEkpO0IuU2VsZWN0T2JqZWN0KE4sUyk7Qi5CaXRCbHQoTiwwLDAsSCxJLEssMCwwLDEzMzY5Mzc2KTtpbXBvcnQgdGVtcGZpbGUgYXMgVAoJCQkJCXdpdGggVC5OYW1lZFRlbXBvcmFyeUZpbGUoc3VmZml4PScuYm1wJyxkZWxldGU9RSlhcyBPOlU9YidCTScrKEgqSSozKzU0KS50b19ieXRlcyg0LCdsaXR0bGUnKStiJ1x4MDBceDAwXHgwMFx4MDA2XHgwMFx4MDBceDAwJztPLndyaXRlKFUpO08uY2xvc2UoKQoJCQkJZWxzZTowCgkJCWV4Y2VwdDpwYXNzCgkJaWYgQTpMLnNjcmVlbnNob3RzLmFwcGVuZCh7eTpmInNjcmVlbnNob3Rfe0QoTC5zY3JlZW5zaG90cyl9LnBuZyIsJ2RhdGEnOkF9KQoJCXJldHVybiBBCmNsYXNzIEJ2OgoJZGVmIF9faW5pdF9fKEEpOkEuZW1haWxfZGF0YT17fQoJZGVmIGNvbGxlY3Rfb3V0bG9va19kYXRhKEspOgoJCSdDb2xsZWN0IE91dGxvb2sgZGF0YSc7ST0nT3V0bG9vayc7RT17fQoJCWlmIEYucGxhdGZvcm09PUo6CgkJCXRyeToKCQkJCWltcG9ydCB3aW5yZWc7TD1bQS5wYXRoLmpvaW4oQS5lbnZpcm9uLmdldChhLEMpLHgsSSksQS5wYXRoLmpvaW4oQS5lbnZpcm9uLmdldChSLEMpLHgsSSldCgkJCQlmb3IgQiBpbiBMOgoJCQkJCWlmIEEucGF0aC5leGlzdHMoQik6CgkJCQkJCWZvciBEIGluIEEubGlzdGRpcihCKToKCQkJCQkJCWlmIEQuZW5kc3dpdGgoJy5wc3QnKToKCQkJCQkJCQlIPUEucGF0aC5qb2luKEIsRCkKCQkJCQkJCQl0cnk6TT1BLnBhdGguZ2V0c2l6ZShIKTtFW0RdPXtOOkgsRzpNfQoJCQkJCQkJCWV4Y2VwdDpjb250aW51ZQoJCQlleGNlcHQ6cGFzcwoJCUsuZW1haWxfZGF0YVsnb3V0bG9vayddPUUKCWRlZiBjb2xsZWN0X3RodW5kZXJiaXJkX2RhdGEoTCk6CgkJJ0NvbGxlY3QgVGh1bmRlcmJpcmQgZGF0YSc7RT17fQoJCXRyeToKCQkJaWYgRi5wbGF0Zm9ybT09SjpCPUEucGF0aC5qb2luKEEuZW52aXJvbi5nZXQoUixDKSwnVGh1bmRlcmJpcmQnLEI0KQoJCQllbHNlOkI9QS5wYXRoLmV4cGFuZHVzZXIoJ34vLnRodW5kZXJiaXJkJykKCQkJaWYgQS5wYXRoLmV4aXN0cyhCKToKCQkJCWZvciBIIGluIEEubGlzdGRpcihCKToKCQkJCQlJPUEucGF0aC5qb2luKEIsSCkKCQkJCQlpZiBBLnBhdGguaXNkaXIoSSk6CgkJCQkJCU09WydwcmVmcy5qcycsQkEsQkIsJ2NlcnQ5LmRiJ10KCQkJCQkJZm9yIEsgaW4gTToKCQkJCQkJCUQ9QS5wYXRoLmpvaW4oSSxLKQoJCQkJCQkJaWYgQS5wYXRoLmV4aXN0cyhEKToKCQkJCQkJCQl0cnk6Tz1BLnBhdGguZ2V0c2l6ZShEKTtFW2Yie0h9X3tLfSJdPXtOOkQsRzpPfQoJCQkJCQkJCWV4Y2VwdDpjb250aW51ZQoJCWV4Y2VwdDpwYXNzCgkJTC5lbWFpbF9kYXRhWyd0aHVuZGVyYmlyZCddPUUKCWRlZiBjb2xsZWN0X2FsbChBKTpBLmNvbGxlY3Rfb3V0bG9va19kYXRhKCk7QS5jb2xsZWN0X3RodW5kZXJiaXJkX2RhdGEoKTtyZXR1cm4gQS5lbWFpbF9kYXRhCmNsYXNzIEJ3OgoJZGVmIF9faW5pdF9fKEEpOkEuZnRwX2NvbmZpZ3M9e30KCWRlZiBjb2xsZWN0X2ZpbGV6aWxsYV9jb25maWcoSyk6CgkJJ0NvbGxlY3QgRmlsZVppbGxhIGNvbmZpZ3VyYXRpb24nO0Q9e30KCQl0cnk6CgkJCWlmIEYucGxhdGZvcm09PUo6Qj1BLnBhdGguam9pbihBLmVudmlyb24uZ2V0KFIsQyksJ0ZpbGVaaWxsYScpCgkJCWVsc2U6Qj1BLnBhdGguZXhwYW5kdXNlcignfi8uY29uZmlnL2ZpbGV6aWxsYScpCgkJCWlmIEEucGF0aC5leGlzdHMoQik6CgkJCQlMPVsnc2l0ZW1hbmFnZXIueG1sJywncmVjZW50c2VydmVycy54bWwnLCdmaWxlemlsbGEueG1sJ10KCQkJCWZvciBFIGluIEw6CgkJCQkJRz1BLnBhdGguam9pbihCLEUpCgkJCQkJaWYgQS5wYXRoLmV4aXN0cyhHKToKCQkJCQkJdHJ5OgoJCQkJCQkJd2l0aCBJKEcsJ3InLGVuY29kaW5nPUgsZXJyb3JzPXMpYXMgTTpOPU0ucmVhZCgpO0RbRV09TgoJCQkJCQlleGNlcHQ6Y29udGludWUKCQlleGNlcHQ6cGFzcwoJCUsuZnRwX2NvbmZpZ3NbJ2ZpbGV6aWxsYSddPUQKCWRlZiBjb2xsZWN0X3dpbnNjcF9jb25maWcoRyk6CgkJJ0NvbGxlY3QgV2luU0NQIGNvbmZpZ3VyYXRpb24nO0U9J1dpblNDUC5pbmknO0I9e30KCQl0cnk6CgkJCWlmIEYucGxhdGZvcm09PUo6CgkJCQlEPUEucGF0aC5qb2luKEEuZW52aXJvbi5nZXQoUixDKSxFKQoJCQkJaWYgQS5wYXRoLmV4aXN0cyhEKToKCQkJCQl0cnk6CgkJCQkJCXdpdGggSShELCdyJyxlbmNvZGluZz1ILGVycm9ycz1zKWFzIEs6TD1LLnJlYWQoKTtCW0VdPUwKCQkJCQlleGNlcHQ6cGFzcwoJCWV4Y2VwdDpwYXNzCgkJRy5mdHBfY29uZmlnc1snd2luc2NwJ109QgoJZGVmIGNvbGxlY3RfYWxsKEEpOkEuY29sbGVjdF9maWxlemlsbGFfY29uZmlnKCk7QS5jb2xsZWN0X3dpbnNjcF9jb25maWcoKTtyZXR1cm4gQS5mdHBfY29uZmlncwpjbGFzcyBCeDoKCWRlZiBfX2luaXRfXyhBKTpBLmRhdGFiYXNlcz17fQoJZGVmIGZpbmRfZGF0YWJhc2VfZmlsZXMoTSk6CgkJJ0ZpbmQgZGF0YWJhc2UgZmlsZXMgaW4gY29tbW9uIGxvY2F0aW9ucyc7TD0nVVNFUlBST0ZJTEUnO0I9e307Tz1bQUYsQkosJy5zcWxpdGUzJywnLm1kYicsJy5hY2NkYicsJy5kYmYnXTtEPVtdCgkJaWYgRi5wbGF0Zm9ybT09SjpELmV4dGVuZChbQS5lbnZpcm9uLmdldChSLEMpLEEuZW52aXJvbi5nZXQoYSxDKSxBLmVudmlyb24uZ2V0KEJLLEMpLEEucGF0aC5qb2luKEEuZW52aXJvbi5nZXQoTCxDKSwnRG9jdW1lbnRzJyksQS5wYXRoLmpvaW4oQS5lbnZpcm9uLmdldChMLEMpLCdEZXNrdG9wJyldKQoJCWVsc2U6RC5leHRlbmQoW0EucGF0aC5leHBhbmR1c2VyKGQpLEEucGF0aC5leHBhbmR1c2VyKEFVKSxBLnBhdGguZXhwYW5kdXNlcihCTCldKQoJCWZvciBIIGluIEQ6CgkJCWlmIEEucGF0aC5leGlzdHMoSCk6CgkJCQl0cnk6CgkJCQkJZm9yKFAsUyxRKWluIEEud2FsayhIKToKCQkJCQkJZm9yIEUgaW4gUToKCQkJCQkJCWlmIGsoRS5lbmRzd2l0aChBKWZvciBBIGluIE8pOgoJCQkJCQkJCUk9QS5wYXRoLmpvaW4oUCxFKQoJCQkJCQkJCXRyeToKCQkJCQkJCQkJSz1BLnBhdGguZ2V0c2l6ZShJKQoJCQkJCQkJCQlpZiBLPDUyNDI4ODAwOkJbRV09e046SSxHOkt9CgkJCQkJCQkJZXhjZXB0OmNvbnRpbnVlCgkJCQlleGNlcHQ6Y29udGludWUKCQlNLmRhdGFiYXNlc1snZm91bmRfZGF0YWJhc2VzJ109QjtyZXR1cm4gQgpjbGFzcyBCeToKCWRlZiBfX2luaXRfXyhBKTpBLmNvbmZpZ3M9e30KCWRlZiBjb2xsZWN0X2NvbmZpZ19maWxlcyhMKToKCQknQ29sbGVjdCBjb25maWd1cmF0aW9uIGZpbGVzIGZyb20gdmFyaW91cyBhcHBsaWNhdGlvbnMnO0Q9e307TT1bJyouaW5pJywnKi5jZmcnLCcqLmNvbmYnLCcqLmNvbmZpZycsJyoucHJvcGVydGllcycsJyouanNvbicsJyoueG1sJywnKi55YW1sJywnKi55bWwnLCcqLnRvbWwnXTtCPVtdCgkJaWYgRi5wbGF0Zm9ybT09SjpCLmV4dGVuZChbQS5wYXRoLmpvaW4oQS5lbnZpcm9uLmdldChSLEMpKSxBLnBhdGguam9pbihBLmVudmlyb24uZ2V0KGEsQykpLEEucGF0aC5qb2luKEEuZW52aXJvbi5nZXQoQkssQykpXSkKCQllbHNlOkIuZXh0ZW5kKFtBLnBhdGguZXhwYW5kdXNlcihBVSksQS5wYXRoLmV4cGFuZHVzZXIoQkwpLEEucGF0aC5leHBhbmR1c2VyKCd+L0xpYnJhcnkvUHJlZmVyZW5jZXMnKWlmIEYucGxhdGZvcm09PSdkYXJ3aW4nZWxzZSBwXSk7Qj1bQSBmb3IgQSBpbiBCIGlmIEFdCgkJZm9yIEggaW4gQjoKCQkJaWYgQS5wYXRoLmV4aXN0cyhIKToKCQkJCXRyeToKCQkJCQlmb3IoTyxRLFApaW4gQS53YWxrKEgpOgoJCQkJCQlmb3IgRSBpbiBQOgoJCQkJCQkJaWYgayhFLmVuZHN3aXRoKEFbMTpdKWZvciBBIGluIE0pOgoJCQkJCQkJCUk9QS5wYXRoLmpvaW4oTyxFKQoJCQkJCQkJCXRyeToKCQkJCQkJCQkJSz1BLnBhdGguZ2V0c2l6ZShJKQoJCQkJCQkJCQlpZiBLPDEwNDg1NzY6RFtFXT17TjpJLEc6S30KCQkJCQkJCQlleGNlcHQ6Y29udGludWUKCQkJCWV4Y2VwdDpjb250aW51ZQoJCUwuY29uZmlnc1snY29uZmlnX2ZpbGVzJ109RDtyZXR1cm4gRApjbGFzcyBCejoKCWRlZiBfX2luaXRfXyhBKTpBLmRpc2NvcmRfZGF0YT17fQoJZGVmIGdldF9kaXNjb3JkX3BhdGhzKEUpOgoJCWlmIEYucGxhdGZvcm09PUo6Qj1BLmVudmlyb24uZ2V0KFIsQyk7cmV0dXJue2c6QS5wYXRoLmpvaW4oQixnKSxCQzpBLnBhdGguam9pbihCLEJFKSxCRDpBLnBhdGguam9pbihCLEJGKX0KCQllbHNlOkQ9QS5wYXRoLmV4cGFuZHVzZXIoZCk7cmV0dXJue2c6QS5wYXRoLmpvaW4oRCxWLGcpfQoJZGVmIGNvbGxlY3RfZGlzY29yZF90b2tlbnNfYW5kX2NhY2hlKEopOgoJCVQ9Si5nZXRfZGlzY29yZF9wYXRocygpCgkJZm9yKEMsTSlpbiBULml0ZW1zKCk6CgkJCWlmIEEucGF0aC5leGlzdHMoTSk6CgkJCQl0cnk6CgkJCQkJTj1BLnBhdGguam9pbihNLHEsbCkKCQkJCQlpZiBBLnBhdGguZXhpc3RzKE4pOgoJCQkJCQlmb3IgQiBpbiBBLmxpc3RkaXIoTik6CgkJCQkJCQlFPUEucGF0aC5qb2luKE4sQikKCQkJCQkJCXRyeToKCQkJCQkJCQl3aXRoIEkoRSxTKWFzIE86Rj1PLnJlYWQoKQoJCQkJCQkJCVA9ZiJ7Q31fbGV2ZWxkYl97Qn0iO0ouZGlzY29yZF9kYXRhW1BdPXtBZzpDLFc6bCxjOkIsRzpEKEYpLEw6Sy5iNjRlbmNvZGUoRikuZGVjb2RlKEgpfQoJCQkJCQkJZXhjZXB0OmNvbnRpbnVlCgkJCQkJUT1BLnBhdGguam9pbihNLCdDYWNoZScpCgkJCQkJaWYgQS5wYXRoLmV4aXN0cyhRKToKCQkJCQkJZm9yIEIgaW4gQS5saXN0ZGlyKFEpWzo1MF06CgkJCQkJCQlFPUEucGF0aC5qb2luKFEsQikKCQkJCQkJCXRyeToKCQkJCQkJCQlSPUEucGF0aC5nZXRzaXplKEUpCgkJCQkJCQkJaWYgUjw1MjQyODgwOgoJCQkJCQkJCQl3aXRoIEkoRSxTKWFzIE86Rj1PLnJlYWQoKQoJCQkJCQkJCQlQPWYie0N9X2NhY2hlX3tCfSI7Si5kaXNjb3JkX2RhdGFbUF09e0FnOkMsVzonY2FjaGUnLGM6QixHOlIsTDpLLmI2NGVuY29kZShGKS5kZWNvZGUoSCl9CgkJCQkJCQlleGNlcHQ6Y29udGludWUKCQkJCWV4Y2VwdDpjb250aW51ZQoJZGVmIGNvbGxlY3RfYWxsKEEpOkEuY29sbGVjdF9kaXNjb3JkX3Rva2Vuc19hbmRfY2FjaGUoKTtyZXR1cm4gQS5kaXNjb3JkX2RhdGEKY2xhc3MgQl86CglkZWYgX19pbml0X18oQSk6QS5tZXNzYWdpbmdfZGF0YT17fQoJZGVmIGNvbGxlY3RfbWVzc2FnaW5nX2FwcHMoZyk6CgkJZj0nU2lnbmFsJztlPSdXaGF0c0FwcCc7Wj0nc2lnbmFsJztZPSdzbGFjayc7WD0nd2hhdHNhcHAnCgkJaWYgRi5wbGF0Zm9ybT09SjpCPUEuZW52aXJvbi5nZXQoUixDKTtEPUEuZW52aXJvbi5nZXQoYSxDKTtQPXtiOkEucGF0aC5qb2luKEIsQkcsQUcpLFg6QS5wYXRoLmpvaW4oRCxlKSwnd2hhdHNhcHBfYnVzaW5lc3MnOkEucGF0aC5qb2luKEQsJ1doYXRzQXBwIEJ1c2luZXNzJyksWTpBLnBhdGguam9pbihELCdzbGFjay1jYWNoZScpLFo6QS5wYXRoLmpvaW4oQixmKSwndmliZXInOkEucGF0aC5qb2luKEIsJ1ZpYmVyJyksJ3NreXBlJzpBLnBhdGguam9pbihCLCdTa3lwZScpLCdlbGVtZW50JzpBLnBhdGguam9pbihCLCdFbGVtZW50JyksJ3Jldm9sdCc6QS5wYXRoLmpvaW4oRCwnUmV2b2x0Jyl9CgkJZWxzZTpFPUEucGF0aC5leHBhbmR1c2VyKGQpO1A9e2I6QS5wYXRoLmpvaW4oRSxBZSxBZixCSCxBRyksWDpBLnBhdGguam9pbihFLFYsZSksWjpBLnBhdGguam9pbihFLFYsZiksWTpBLnBhdGguam9pbihFLFYsJ1NsYWNrJyl9CgkJZm9yKFEsVClpbiBQLml0ZW1zKCk6CgkJCWlmIEEucGF0aC5leGlzdHMoVCk6CgkJCQl0cnk6CgkJCQkJZm9yKFUsbCxoKWluIEEud2FsayhUKToKCQkJCQkJZm9yIE0gaW4gaDoKCQkJCQkJCU89QS5wYXRoLmpvaW4oVSxNKQoJCQkJCQkJdHJ5OgoJCQkJCQkJCVc9QS5wYXRoLmdldHNpemUoTykKCQkJCQkJCQlpZiBXPDEwNDg1NzYwOgoJCQkJCQkJCQl3aXRoIEkoTyxTKWFzIGk6aj1pLnJlYWQoKQoJCQkJCQkJCQlrPWYie1F9X3tBLnBhdGguYmFzZW5hbWUoVSl9X3tNfSI7Zy5tZXNzYWdpbmdfZGF0YVtrXT17cjpRLGM6TSxOOk8sRzpXLEw6Sy5iNjRlbmNvZGUoaikuZGVjb2RlKEgpfQoJCQkJCQkJZXhjZXB0OmNvbnRpbnVlCgkJCQlleGNlcHQ6Y29udGludWUKCWRlZiBjb2xsZWN0X2FsbChBKTpBLmNvbGxlY3RfbWVzc2FnaW5nX2FwcHMoKTtyZXR1cm4gQS5tZXNzYWdpbmdfZGF0YQpjbGFzcyBDMDoKCWRlZiBfX2luaXRfXyhBKTpBLnN0cmVhbWluZ19kYXRhPXt9CglkZWYgY29sbGVjdF9zdHJlYW1pbmdfZGF0YShaKToKCQlZPSdTcG90aWZ5JztYPSdOZXRmbGl4JztXPSdzcG90aWZ5JztVPSduZXRmbGl4JwoJCWlmIEYucGxhdGZvcm09PUo6Qj1BLmVudmlyb24uZ2V0KGEsQyk7Yj1BLmVudmlyb24uZ2V0KFIsQyk7TT17VTpBLnBhdGguam9pbihCLFgpLFc6QS5wYXRoLmpvaW4oYixZKSwncHJpbWVfdmlkZW8nOkEucGF0aC5qb2luKEIsJ0FtYXpvbicpLCdkaXNuZXlfcGx1cyc6QS5wYXRoLmpvaW4oQiwnRGlzbmV5KycpLCdodWx1JzpBLnBhdGguam9pbihCLCdIdWx1JyksJ3lvdXR1YmUnOkEucGF0aC5qb2luKEIsQWEsQWIsZSksJ3R3aXRjaCc6QS5wYXRoLmpvaW4oQiwnVHdpdGNoJyl9CgkJZWxzZTpPPUEucGF0aC5leHBhbmR1c2VyKGQpO009e1U6QS5wYXRoLmpvaW4oTyxBZSxBZixYKSxXOkEucGF0aC5qb2luKE8sVixZKX0KCQlmb3IoUCxRKWluIE0uaXRlbXMoKToKCQkJaWYgQS5wYXRoLmV4aXN0cyhRKToKCQkJCXRyeToKCQkJCQlmb3IoZixrLGcpaW4gQS53YWxrKFEpOgoJCQkJCQlmb3IgRCBpbiBnOgoJCQkJCQkJaWYgRC5lbmRzd2l0aCgoQUYsQVgsQkosJy5jYWNoZScsVikpOgoJCQkJCQkJCUU9QS5wYXRoLmpvaW4oZixEKQoJCQkJCQkJCXRyeToKCQkJCQkJCQkJVD1BLnBhdGguZ2V0c2l6ZShFKQoJCQkJCQkJCQlpZiBUPDEwNDg1NzYwOgoJCQkJCQkJCQkJd2l0aCBJKEUsUylhcyBoOmk9aC5yZWFkKCkKCQkJCQkJCQkJCWo9ZiJ7UH1fe0R9IjtaLnN0cmVhbWluZ19kYXRhW2pdPXtBSTpQLGM6RCxOOkUsRzpULEw6Sy5iNjRlbmNvZGUoaSkuZGVjb2RlKEgpfQoJCQkJCQkJCWV4Y2VwdDpjb250aW51ZQoJCQkJZXhjZXB0OmNvbnRpbnVlCglkZWYgY29sbGVjdF9hbGwoQSk6QS5jb2xsZWN0X3N0cmVhbWluZ19kYXRhKCk7cmV0dXJuIEEuc3RyZWFtaW5nX2RhdGEKY2xhc3MgQzE6CglkZWYgX19pbml0X18oQSk6QS5wYXltZW50X2RhdGE9e30KCWRlZiBjb2xsZWN0X3BheW1lbnRfaW5mbyhiKToKCQlaPSdSZXZvbHV0JztZPSdQYXlQYWwnO1g9J3Jldm9sdXQnO1c9J3BheXBhbCcKCQlpZiBGLnBsYXRmb3JtPT1KOkI9QS5lbnZpcm9uLmdldChhLEMpO009QS5lbnZpcm9uLmdldChSLEMpO089e1c6QS5wYXRoLmpvaW4oQixZKSwnc3RyaXBlJzpBLnBhdGguam9pbihNLCdTdHJpcGUnKSwnc3F1YXJlJzpBLnBhdGguam9pbihCLCdTcXVhcmUnKSwnd2lzZSc6QS5wYXRoLmpvaW4oTSwnV2lzZScpLFg6QS5wYXRoLmpvaW4oQixaKSwncm9iaW5ob29kJzpBLnBhdGguam9pbihCLCdSb2Jpbmhvb2QnKSwndGRfYW1lcml0cmFkZSc6QS5wYXRoLmpvaW4oQiwnVEQgQW1lcml0cmFkZScpLCdldHJhZGUnOkEucGF0aC5qb2luKEIsJ0UqVFJBREUnKX0KCQllbHNlOlA9QS5wYXRoLmV4cGFuZHVzZXIoZCk7Tz17VzpBLnBhdGguam9pbihQLFYsWSksWDpBLnBhdGguam9pbihQLFYsWil9CgkJZm9yKFEsVClpbiBPLml0ZW1zKCk6CgkJCWlmIEEucGF0aC5leGlzdHMoVCk6CgkJCQl0cnk6CgkJCQkJZm9yKGUsaixmKWluIEEud2FsayhUKToKCQkJCQkJZm9yIEQgaW4gZjoKCQkJCQkJCUU9QS5wYXRoLmpvaW4oZSxEKQoJCQkJCQkJdHJ5OgoJCQkJCQkJCVU9QS5wYXRoLmdldHNpemUoRSkKCQkJCQkJCQlpZiBVPDUyNDI4ODA6CgkJCQkJCQkJCXdpdGggSShFLFMpYXMgZzpoPWcucmVhZCgpCgkJCQkJCQkJCWk9ZiJ7UX1fe0R9IjtiLnBheW1lbnRfZGF0YVtpXT17QUk6USxjOkQsTjpFLEc6VSxMOksuYjY0ZW5jb2RlKGgpLmRlY29kZShIKX0KCQkJCQkJCWV4Y2VwdDpjb250aW51ZQoJCQkJZXhjZXB0OmNvbnRpbnVlCglkZWYgY29sbGVjdF9hbGwoQSk6QS5jb2xsZWN0X3BheW1lbnRfaW5mbygpO3JldHVybiBBLnBheW1lbnRfZGF0YQpjbGFzcyBDMjoKCWRlZiBfX2luaXRfXyhBKTpBLndhbGxldHM9e30KCWRlZiBnZXRfZW5oYW5jZWRfd2FsbGV0X2xvY2F0aW9ucyhJKToKCQlIPSdldGhlcmV1bSc7Rz0nYml0Y29pbicKCQlpZiBGLnBsYXRmb3JtPT1KOkI9QS5lbnZpcm9uLmdldChSLEMpO0Q9QS5lbnZpcm9uLmdldChhLEMpO3JldHVybntHOltBLnBhdGguam9pbihCLEFxKSxBLnBhdGguam9pbihCLEFyKSxBLnBhdGguam9pbihCLEFzKV0sSDpbQS5wYXRoLmpvaW4oQixBdCksQS5wYXRoLmpvaW4oRCwnTWV0YU1hc2snKSxBLnBhdGguam9pbihCLCdNeUV0aGVyV2FsbGV0JyldLCdtdWx0aV93YWxsZXQnOltBLnBhdGguam9pbihCLEF1KSxBLnBhdGguam9pbihELEFDKSxBLnBhdGguam9pbihCLEF2KSxBLnBhdGguam9pbihCLEF5KSxBLnBhdGguam9pbihCLCdMZWRnZXIgTGl2ZScpLEEucGF0aC5qb2luKEIsJ1RyZXpvcicpLEEucGF0aC5qb2luKEIsJ1RydXN0IFdhbGxldCcpLEEucGF0aC5qb2luKEQsJ0tyYWtlbicpLEEucGF0aC5qb2luKEQsJ0NvaW5iYXNlJyksQS5wYXRoLmpvaW4oQiwnUGhhbnRvbScpXSwnYWx0Y29pbnMnOltBLnBhdGguam9pbihCLEF4KSxBLnBhdGguam9pbihCLCdaY2FzaCcpLEEucGF0aC5qb2luKEIsJ0Rhc2gnKSxBLnBhdGguam9pbihCLEF3KSxBLnBhdGguam9pbihCLCdSaXBwbGUnKSxBLnBhdGguam9pbihCLCdEb2dlY29pbicpLEEucGF0aC5qb2luKEIsJ0NhcmRhbm8nKV19CgkJZWxzZTpFPUEucGF0aC5leHBhbmR1c2VyKGQpO3JldHVybntHOltBLnBhdGguam9pbihFLEF6KSxBLnBhdGguam9pbihFLEFfKV0sSDpbQS5wYXRoLmpvaW4oRSxCMCldfQoJZGVmIGNvbGxlY3Rfd2FsbGV0cyhFKToKCQlNPUUuZ2V0X2VuaGFuY2VkX3dhbGxldF9sb2NhdGlvbnMoKQoJCWZvcihGLE8paW4gTS5pdGVtcygpOgoJCQlmb3IgQiBpbiBPOgoJCQkJaWYgQS5wYXRoLmV4aXN0cyhCKToKCQkJCQl0cnk6CgkJCQkJCWZvcihQLFYsUSlpbiBBLndhbGsoQik6CgkJCQkJCQlmb3IgQyBpbiBROgoJCQkJCQkJCUQ9QS5wYXRoLmpvaW4oUCxDKQoJCQkJCQkJCXRyeToKCQkJCQkJCQkJSj1BLnBhdGguZ2V0c2l6ZShEKQoJCQkJCQkJCQlpZiBKPDUyNDI4ODAwOgoJCQkJCQkJCQkJd2l0aCBJKEQsUylhcyBSOlQ9Ui5yZWFkKCkKCQkJCQkJCQkJCVU9ZiJ7Rn1fe0EucGF0aC5iYXNlbmFtZShCKX1fe0N9IjtFLndhbGxldHNbVV09e1c6RixjOkMsTjpELEc6SixMOksuYjY0ZW5jb2RlKFQpLmRlY29kZShIKX0KCQkJCQkJCQlleGNlcHQ6Y29udGludWUKCQkJCQlleGNlcHQ6Y29udGludWUKCWRlZiBjb2xsZWN0X2FsbChBKTpBLmNvbGxlY3Rfd2FsbGV0cygpO3JldHVybiBBLndhbGxldHMKY2xhc3MgQzM6CglkZWYgX19pbml0X18oQSk6QS5icm93c2VyX2RhdGE9e30KCWRlZiBleHRyYWN0X2Jyb3dzZXJfYXV0b2NvbXBsZXRlKGcpOgoJCSdFeHRyYWN0IGF1dG9jb21wbGV0ZSBkYXRhIGZyb20gYnJvd3NlcnMnO2M9J1Nob3J0Y3V0cyc7Yj0nSGlzdG9yeScKCQlpZiBGLnBsYXRmb3JtPT1KOkI9QS5lbnZpcm9uLmdldChhLEMpO2g9QS5lbnZpcm9uLmdldChSLEMpO1A9e0FEOkEucGF0aC5qb2luKEIsQWEsQWIsZSksJ2VkZ2UnOkEucGF0aC5qb2luKEIseCwnRWRnZScsZSksQVo6QS5wYXRoLmpvaW4oQixBYyxBZCxlKSwnY2hyb21pdW0nOkEucGF0aC5qb2luKEIsJ0Nocm9taXVtJyxlKSwndml2YWxkaSc6QS5wYXRoLmpvaW4oQiwnVml2YWxkaScsZSksJ29wZXJhJzpBLnBhdGguam9pbihoLEIyLEIzKX0KCQllbHNlOlE9QS5wYXRoLmV4cGFuZHVzZXIoZCk7UD17QUQ6QS5wYXRoLmpvaW4oUSxWLEI1KSxBWjpBLnBhdGguam9pbihRLFYsQWMsQWQpfQoJCWZvcihULFUpaW4gUC5pdGVtcygpOgoJCQlpZiBBLnBhdGguZXhpc3RzKFUpOgoJCQkJdHJ5OgoJCQkJCWk9W0I2LEI3LEI4LEI5LCdQcm9maWxlIDQnXQoJCQkJCWZvciBPIGluIGk6CgkJCQkJCU09QS5wYXRoLmpvaW4oVSxPKQoJCQkJCQlpZiBub3QgQS5wYXRoLmV4aXN0cyhNKTpjb250aW51ZQoJCQkJCQlrPUEucGF0aC5qb2luKE0sYik7bD1BLnBhdGguam9pbihNLEFFKTttPUEucGF0aC5qb2luKE0sYykKCQkJCQkJZm9yKFgsWSlpblsoYixrKSwoQUUsbCksKGMsbSldOgoJCQkJCQkJaWYgQS5wYXRoLmV4aXN0cyhZKToKCQkJCQkJCQl0cnk6CgkJCQkJCQkJCU49QU0uTmFtZWRUZW1wb3JhcnlGaWxlKGRlbGV0ZT1FLHN1ZmZpeD1BRik7QWkuY29weTIoWSxOLm5hbWUpO04uY2xvc2UoKQoJCQkJCQkJCQl3aXRoIEkoTi5uYW1lLFMpYXMgbjpaPW4ucmVhZCgpCgkJCQkJCQkJCW89ZiJ7VH1fe099X3tYfSI7Zy5icm93c2VyX2RhdGFbb109e2o6VCxmOk8sVzpYLEc6RChaKSxMOksuYjY0ZW5jb2RlKFopLmRlY29kZShIKX07QS51bmxpbmsoTi5uYW1lKQoJCQkJCQkJCWV4Y2VwdDpwYXNzCgkJCQlleGNlcHQ6Y29udGludWUKCWRlZiBjb2xsZWN0X2FsbChBKTpBLmV4dHJhY3RfYnJvd3Nlcl9hdXRvY29tcGxldGUoKTtyZXR1cm4gQS5icm93c2VyX2RhdGEKY2xhc3MgQWo6CglAQU4KCWRlZiBnZW5lcmF0ZV9tYWNoaW5lX2lkKCk6CgkJdHJ5OgoJCQlpZiBGLnBsYXRmb3JtPT1KOgoJCQkJdHJ5OmltcG9ydCB3bWk7Qj13bWkuV01JKCk7Qz1CLldpbjMyX0NvbXB1dGVyU3lzdGVtKClbMF07RD1CLldpbjMyX0JJT1MoKVswXTtBPWYie0MuTmFtZX17RC5TZXJpYWxOdW1iZXJ9IgoJCQkJZXhjZXB0OmltcG9ydCB1dWlkO0E9c3RyKHV1aWQuZ2V0bm9kZSgpKQoJCQllbHNlOmltcG9ydCB1dWlkO0E9c3RyKHV1aWQuZ2V0bm9kZSgpKQoJCQlyZXR1cm4gdC5tZDUoQS5lbmNvZGUoKSkuaGV4ZGlnZXN0KCkKCQlleGNlcHQ6aW1wb3J0IHV1aWQ7cmV0dXJuIHQubWQ1KHN0cih1dWlkLmdldG5vZGUoKSkuZW5jb2RlKCkpLmhleGRpZ2VzdCgpCglAQU4KCWRlZiBnZXRfc3lzdGVtX2luZm8oKToKCQlCPXsnb3MnOm0uc3lzdGVtKCksQWw6bS52ZXJzaW9uKCksQW06bS5tYWNoaW5lKCksQW46bS5wcm9jZXNzb3IoKSxBUDptLm5vZGUoKSxBbzpBLmdldGxvZ2luKClpZiBoYXNhdHRyKEEsJ2dldGxvZ2luJyllbHNlIEFIfQoJCWlmIEYucGxhdGZvcm09PUo6CgkJCXRyeTpCWyd3aW5kb3dzX3ZlcnNpb24nXT1tLndpbjMyX3ZlcigpWzBdCgkJCWV4Y2VwdDpwYXNzCgkJcmV0dXJuIEIKY2xhc3MgQzQ6CglkZWYgX19pbml0X18oQSxjb25maWcpOkI9Y29uZmlnO0EuY29uZmlnPUI7QS5tYWNoaW5lX2lkPUFqLmdlbmVyYXRlX21hY2hpbmVfaWQoKTtBLnRlbXBfZGlyPUFNLm1rZHRlbXAocHJlZml4PSdkYXRhXycpO0EudGVsZWdyYW09QmgoYm90X3Rva2VuPUJbYl1bQUpdLGNoYXRfaWQ9QltiXVtuXSk7QS5zdGF0cz17dTp7fSxpOjAsQTM6MCx2OjAsQTQ6MH0KCWRlZiBjb2xsZWN0X3N5c3RlbV9pbmZvKEIpOkE9QWouZ2V0X3N5c3RlbV9pbmZvKCk7QVtBT109Qi5tYWNoaW5lX2lkO0IudGVsZWdyYW0uc2VuZF9zeXN0ZW1faW5mbyhBKTtyZXR1cm4gQQoJZGVmIGNvbGxlY3RfZmlsZXMoQik6CgkJaWYgQWggbm90IGluIEIuY29uZmlnOnJldHVybgoJCUM9Qm0ocnVsZXM9Qi5jb25maWdbQWhdWydydWxlcyddLG1hY2hpbmVfaWQ9Qi5tYWNoaW5lX2lkKTtDLmV4ZWN1dGVfcnVsZXMoKQoJCWlmIEMuY29sbGVjdGVkX2ZpbGVzOgoJCQlEPUEucGF0aC5qb2luKEIudGVtcF9kaXIsZiJmaWxlc197Qi5tYWNoaW5lX2lkfS56aXAiKQoJCQlpZiBDLmNyZWF0ZV96aXBfYXJjaGl2ZShEKTpCLnRlbGVncmFtLnNlbmRfemlwX2FyY2hpdmUoRCwnQ29sbGVjdGVkIEZpbGVzJyk7Qi5zdGF0c1t1XT1DLnN0YXRpc3RpY3MKCQlyZXR1cm4gQy5zdGF0aXN0aWNzCglkZWYgY29sbGVjdF93YWxsZXRzKEIpOgoJCWlmIG5vdCBCLmNvbmZpZy5nZXQoQk0sRSk6cmV0dXJuCgkJQz1CbigpO0MuaHVudCgpO0Iuc3RhdHNbaV09RChDLmZvdW5kX3dhbGxldHMpCgkJaWYgQy5mb3VuZF93YWxsZXRzOgoJCQlGPUEucGF0aC5qb2luKEIudGVtcF9kaXIsZiJ3YWxsZXRzX3tCLm1hY2hpbmVfaWR9LnppcCIpCgkJCWlmIEMuY3JlYXRlX3dhbGxldF9hcmNoaXZlKEYpOkIudGVsZWdyYW0uc2VuZF96aXBfYXJjaGl2ZShGLCfwn5SQIENyeXB0b2N1cnJlbmN5IFdhbGxldHMnKQoJZGVmIGNvbGxlY3RfYnJvd3NlcnMoQik6CgkJaWYgbm90IEIuY29uZmlnLmdldChCTixFKTpyZXR1cm4KCQlDPUJvKCk7Qy5odW50KCk7Qi5zdGF0c1tBM109RChDLmZvdW5kX2RhdGEpCgkJaWYgQy5mb3VuZF9kYXRhOgoJCQlGPUEucGF0aC5qb2luKEIudGVtcF9kaXIsZiJicm93c2Vyc197Qi5tYWNoaW5lX2lkfS56aXAiKQoJCQlpZiBDLmNyZWF0ZV9icm93c2VyX2FyY2hpdmUoRik6Qi50ZWxlZ3JhbS5zZW5kX3ppcF9hcmNoaXZlKEYsJ/CfjJAgQnJvd3NlciBEYXRhICYgU2Vzc2lvbnMnKQoJZGVmIGNvbGxlY3Rfc2Vzc2lvbnMoQik6CgkJaWYgbm90IEIuY29uZmlnLmdldChCTyxFKTpyZXR1cm4KCQlDPUJwKCk7Qy5odW50KCk7Qi5zdGF0c1t2XT1EKEMuZm91bmRfc2Vzc2lvbnMpCgkJaWYgQy5mb3VuZF9zZXNzaW9uczoKCQkJRj1BLnBhdGguam9pbihCLnRlbXBfZGlyLGYic2Vzc2lvbnNfe0IubWFjaGluZV9pZH0uemlwIikKCQkJaWYgQy5jcmVhdGVfc2Vzc2lvbl9hcmNoaXZlKEYpOkIudGVsZWdyYW0uc2VuZF96aXBfYXJjaGl2ZShGLCfwn5KsIEFwcGxpY2F0aW9uIFNlc3Npb25zJykKCWRlZiBjb2xsZWN0X3JlbW92YWJsZV9kcml2ZXMoQik6CgkJaWYgbm90IEIuY29uZmlnLmdldChCUCxFKTpyZXR1cm4KCQlDPUJxKCk7Rz10dXBsZShCLmNvbmZpZy5nZXQoQlEsW3osQUtdKSk7SD1CLmNvbmZpZy5nZXQoQlIsNTAwMCk7Qy5zY2FuX2FsbF9kcml2ZXMoRyxIKTtCLnN0YXRzW0E0XT1EKEMuY29sbGVjdGVkX2ZpbGVzKQoJCWlmIEMuY29sbGVjdGVkX2ZpbGVzOgoJCQlGPUEucGF0aC5qb2luKEIudGVtcF9kaXIsZiJyZW1vdmFibGVfe0IubWFjaGluZV9pZH0uemlwIikKCQkJaWYgQy5jcmVhdGVfcmVtb3ZhYmxlX2FyY2hpdmUoRik6Qi50ZWxlZ3JhbS5zZW5kX3ppcF9hcmNoaXZlKEYsJ/Cfkr4gUmVtb3ZhYmxlIERyaXZlcycpCglkZWYgY29sbGVjdF9uZXR3b3JrX2luZm8oQik6CgkJaWYgbm90IEIuY29uZmlnLmdldChCUyxFKTpyZXR1cm4KCQlHPUJyKCk7Qz1HLmNvbGxlY3RfYWxsKCkKCQlpZiBDOgoJCQlGPUEucGF0aC5qb2luKEIudGVtcF9kaXIsZiJuZXR3b3JrX3tCLm1hY2hpbmVfaWR9Lmpzb24iKQoJCQl0cnk6CgkJCQl3aXRoIEkoRixQLGVuY29kaW5nPUgpYXMgSjpPLmR1bXAoQyxKLGluZGVudD0yLGVuc3VyZV9hc2NpaT1FKQoJCQkJQi50ZWxlZ3JhbS5zZW5kX2RvY3VtZW50KEYsJ/CfjJAgTmV0d29yayBJbmZvcm1hdGlvbicpO0Iuc3RhdHNbJ25ldHdvcmsnXT1EKEMpCgkJCWV4Y2VwdDpwYXNzCglkZWYgY29sbGVjdF9zeXN0ZW1faW5mb19leHRlbmRlZChCKToKCQlpZiBub3QgQi5jb25maWcuZ2V0KEJULEUpOnJldHVybgoJCUc9QnMoKTtDPUcuY29sbGVjdF9hbGwoKQoJCWlmIEM6CgkJCUY9QS5wYXRoLmpvaW4oQi50ZW1wX2RpcixmInN5c3RlbV9leHRlbmRlZF97Qi5tYWNoaW5lX2lkfS5qc29uIikKCQkJdHJ5OgoJCQkJd2l0aCBJKEYsUCxlbmNvZGluZz1IKWFzIEo6Ty5kdW1wKEMsSixpbmRlbnQ9MixlbnN1cmVfYXNjaWk9RSkKCQkJCUIudGVsZWdyYW0uc2VuZF9kb2N1bWVudChGLCfwn5K7IEV4dGVuZGVkIFN5c3RlbSBJbmZvcm1hdGlvbicpO0Iuc3RhdHNbJ3N5c3RlbV9leHRlbmRlZCddPUQoQykKCQkJZXhjZXB0OnBhc3MKCWRlZiBjb2xsZWN0X2NsaXBib2FyZChCKToKCQlpZiBub3QgQi5jb25maWcuZ2V0KEJVLEUpOnJldHVybgoJCUc9QnQoKTtDPUcuY29sbGVjdF9jbGlwYm9hcmQoKQoJCWlmIEM6CgkJCUY9QS5wYXRoLmpvaW4oQi50ZW1wX2RpcixmImNsaXBib2FyZF97Qi5tYWNoaW5lX2lkfS5qc29uIikKCQkJdHJ5OgoJCQkJd2l0aCBJKEYsUCxlbmNvZGluZz1IKWFzIEo6Ty5kdW1wKEMsSixpbmRlbnQ9MixlbnN1cmVfYXNjaWk9RSkKCQkJCUIudGVsZWdyYW0uc2VuZF9kb2N1bWVudChGLCfwn5OLIENsaXBib2FyZCBDb250ZW50Jyk7Qi5zdGF0c1snY2xpcGJvYXJkJ109RChDKQoJCQlleGNlcHQ6cGFzcwoJZGVmIGNvbGxlY3Rfc2NyZWVuc2hvdHMoQik6CgkJaWYgbm90IEIuY29uZmlnLmdldChCVixFKTpyZXR1cm4KCQlGPUJ1KCk7Qz1GLnRha2Vfc2NyZWVuc2hvdCgpCgkJaWYgQzoKCQkJRD1BLnBhdGguam9pbihCLnRlbXBfZGlyLGYic2NyZWVuc2hvdF97Qi5tYWNoaW5lX2lkfS5wbmciKQoJCQl0cnk6CgkJCQl3aXRoIEkoRCwnd2InKWFzIEc6Ry53cml0ZShDKQoJCQkJQi50ZWxlZ3JhbS5zZW5kX2RvY3VtZW50KEQsJ/Cfk7ggU2NyZWVuc2hvdCcpO0Iuc3RhdHNbJ3NjcmVlbnNob3RzJ109MQoJCQlleGNlcHQ6cGFzcwoJZGVmIGNvbGxlY3RfZW1haWxfZGF0YShCKToKCQlpZiBub3QgQi5jb25maWcuZ2V0KEJXLEUpOnJldHVybgoJCUc9QnYoKTtDPUcuY29sbGVjdF9hbGwoKQoJCWlmIEMgYW5kIGsoQSBmb3IgQSBpbiBDLnZhbHVlcygpaWYgQSk6CgkJCUY9QS5wYXRoLmpvaW4oQi50ZW1wX2RpcixmImVtYWlsX3tCLm1hY2hpbmVfaWR9Lmpzb24iKQoJCQl0cnk6CgkJCQl3aXRoIEkoRixQLGVuY29kaW5nPUgpYXMgSjpPLmR1bXAoQyxKLGluZGVudD0yLGVuc3VyZV9hc2NpaT1FKQoJCQkJQi50ZWxlZ3JhbS5zZW5kX2RvY3VtZW50KEYsJ/Cfk6cgRW1haWwgQ2xpZW50IERhdGEnKTtCLnN0YXRzWydlbWFpbCddPXN1bShEKEEpZm9yIEEgaW4gQy52YWx1ZXMoKSkKCQkJZXhjZXB0OnBhc3MKCWRlZiBjb2xsZWN0X2Z0cF9jb25maWdzKEIpOgoJCWlmIG5vdCBCLmNvbmZpZy5nZXQoQlgsRSk6cmV0dXJuCgkJRz1CdygpO0M9Ry5jb2xsZWN0X2FsbCgpCgkJaWYgQyBhbmQgayhBIGZvciBBIGluIEMudmFsdWVzKClpZiBBKToKCQkJRj1BLnBhdGguam9pbihCLnRlbXBfZGlyLGYiZnRwX3tCLm1hY2hpbmVfaWR9Lmpzb24iKQoJCQl0cnk6CgkJCQl3aXRoIEkoRixQLGVuY29kaW5nPUgpYXMgSjpPLmR1bXAoQyxKLGluZGVudD0yLGVuc3VyZV9hc2NpaT1FKQoJCQkJQi50ZWxlZ3JhbS5zZW5kX2RvY3VtZW50KEYsJ/CflIwgRlRQIENsaWVudCBDb25maWd1cmF0aW9ucycpO0Iuc3RhdHNbJ2Z0cCddPXN1bShEKEEpZm9yIEEgaW4gQy52YWx1ZXMoKSkKCQkJZXhjZXB0OnBhc3MKCWRlZiBjb2xsZWN0X2RhdGFiYXNlcyhCKToKCQlpZiBub3QgQi5jb25maWcuZ2V0KEJZLEUpOnJldHVybgoJCUc9QngoKTtDPUcuZmluZF9kYXRhYmFzZV9maWxlcygpCgkJaWYgQzoKCQkJRj1BLnBhdGguam9pbihCLnRlbXBfZGlyLGYiZGF0YWJhc2VzX3tCLm1hY2hpbmVfaWR9Lmpzb24iKQoJCQl0cnk6CgkJCQl3aXRoIEkoRixQLGVuY29kaW5nPUgpYXMgSjpPLmR1bXAoQyxKLGluZGVudD0yLGVuc3VyZV9hc2NpaT1FKQoJCQkJQi50ZWxlZ3JhbS5zZW5kX2RvY3VtZW50KEYsJ/Cfl4TvuI8gRGF0YWJhc2UgRmlsZXMgRm91bmQnKTtCLnN0YXRzWydkYXRhYmFzZXMnXT1EKEMpCgkJCWV4Y2VwdDpwYXNzCglkZWYgY29sbGVjdF9jb25maWdzKEIpOgoJCWlmIG5vdCBCLmNvbmZpZy5nZXQoQlosRSk6cmV0dXJuCgkJRz1CeSgpO0M9Ry5jb2xsZWN0X2NvbmZpZ19maWxlcygpCgkJaWYgQzoKCQkJRj1BLnBhdGguam9pbihCLnRlbXBfZGlyLGYiY29uZmlnc197Qi5tYWNoaW5lX2lkfS5qc29uIikKCQkJdHJ5OgoJCQkJd2l0aCBJKEYsUCxlbmNvZGluZz1IKWFzIEo6Ty5kdW1wKEMsSixpbmRlbnQ9MixlbnN1cmVfYXNjaWk9RSkKCQkJCUIudGVsZWdyYW0uc2VuZF9kb2N1bWVudChGLCfimpnvuI8gQ29uZmlndXJhdGlvbiBGaWxlcycpO0Iuc3RhdHNbJ2NvbmZpZ3MnXT1EKEMpCgkJCWV4Y2VwdDpwYXNzCglkZWYgY29sbGVjdF9kaXNjb3JkX2RhdGEoQyk6CgkJaWYgbm90IEMuY29uZmlnLmdldChCYSxCKTpyZXR1cm4KCQlJPUJ6KCk7RT1JLmNvbGxlY3RfYWxsKCkKCQlpZiBFOgoJCQlHPUEucGF0aC5qb2luKEMudGVtcF9kaXIsZiJkaXNjb3JkX3tDLm1hY2hpbmVfaWR9LnppcCIpCgkJCXRyeToKCQkJCXdpdGggTS5aaXBGaWxlKEcsUCxNLlpJUF9ERUZMQVRFRClhcyBIOgoJCQkJCWZvcihSLEYpaW4gRS5pdGVtcygpOko9Sy5iNjRkZWNvZGUoRltMXSk7Tj1mIntGW0FnXX1fe0ZbV119X3tGW2NdfSI7SC53cml0ZXN0cihOLEopCgkJCQkJUT17WTpYLnN0cmZ0aW1lKFopLEEwOkQoRSl9O0gud3JpdGVzdHIoJ19kaXNjb3JkX21ldGFkYXRhLmpzb24nLE8uZHVtcHMoUSxpbmRlbnQ9MikpCgkJCQlDLnRlbGVncmFtLnNlbmRfemlwX2FyY2hpdmUoRywn8J+SnCBEaXNjb3JkIERhdGEgKFRva2VucywgQ2FjaGUpJyk7Qy5zdGF0c1tnXT1EKEUpCgkJCWV4Y2VwdDpwYXNzCglkZWYgY29sbGVjdF9tZXNzYWdpbmdfYXBwc19kYXRhKEMpOgoJCWlmIG5vdCBDLmNvbmZpZy5nZXQoQmIsQik6cmV0dXJuCgkJST1CXygpO0U9SS5jb2xsZWN0X2FsbCgpCgkJaWYgRToKCQkJRz1BLnBhdGguam9pbihDLnRlbXBfZGlyLGYibWVzc2FnaW5nX3tDLm1hY2hpbmVfaWR9LnppcCIpCgkJCXRyeToKCQkJCXdpdGggTS5aaXBGaWxlKEcsUCxNLlpJUF9ERUZMQVRFRClhcyBIOgoJCQkJCWZvcihSLEYpaW4gRS5pdGVtcygpOko9Sy5iNjRkZWNvZGUoRltMXSk7Tj1mIntGW3JdfV97RltjXX0iO0gud3JpdGVzdHIoTixKKQoJCQkJCVE9e1k6WC5zdHJmdGltZShaKSxBMDpEKEUpfTtILndyaXRlc3RyKCdfbWVzc2FnaW5nX21ldGFkYXRhLmpzb24nLE8uZHVtcHMoUSxpbmRlbnQ9MikpCgkJCQlDLnRlbGVncmFtLnNlbmRfemlwX2FyY2hpdmUoRywn8J+SrCBNZXNzYWdpbmcgQXBwcyAoVGVsZWdyYW0sIFdoYXRzQXBwLCBTaWduYWwsIFNsYWNrLCBWaWJlciknKTtDLnN0YXRzWydtZXNzYWdpbmcnXT1EKEUpCgkJCWV4Y2VwdDpwYXNzCglkZWYgY29sbGVjdF9zdHJlYW1pbmdfYXBwc19kYXRhKEMpOgoJCWlmIG5vdCBDLmNvbmZpZy5nZXQoQmMsQik6cmV0dXJuCgkJST1DMCgpO0U9SS5jb2xsZWN0X2FsbCgpCgkJaWYgRToKCQkJRz1BLnBhdGguam9pbihDLnRlbXBfZGlyLGYic3RyZWFtaW5nX3tDLm1hY2hpbmVfaWR9LnppcCIpCgkJCXRyeToKCQkJCXdpdGggTS5aaXBGaWxlKEcsUCxNLlpJUF9ERUZMQVRFRClhcyBIOgoJCQkJCWZvcihSLEYpaW4gRS5pdGVtcygpOko9Sy5iNjRkZWNvZGUoRltMXSk7Tj1mIntGW0FJXX1fe0ZbY119IjtILndyaXRlc3RyKE4sSikKCQkJCQlRPXtZOlguc3RyZnRpbWUoWiksQTA6RChFKX07SC53cml0ZXN0cignX3N0cmVhbWluZ19tZXRhZGF0YS5qc29uJyxPLmR1bXBzKFEsaW5kZW50PTIpKQoJCQkJQy50ZWxlZ3JhbS5zZW5kX3ppcF9hcmNoaXZlKEcsJ/CfjqwgU3RyZWFtaW5nIFNlcnZpY2VzIChOZXRmbGl4LCBTcG90aWZ5LCBQcmltZSwgRGlzbmV5KywgSHVsdSknKTtDLnN0YXRzWydzdHJlYW1pbmcnXT1EKEUpCgkJCWV4Y2VwdDpwYXNzCglkZWYgY29sbGVjdF9wYXltZW50X3NlcnZpY2VzX2RhdGEoQyk6CgkJaWYgbm90IEMuY29uZmlnLmdldChCZCxCKTpyZXR1cm4KCQlJPUMxKCk7RT1JLmNvbGxlY3RfYWxsKCkKCQlpZiBFOgoJCQlHPUEucGF0aC5qb2luKEMudGVtcF9kaXIsZiJwYXltZW50c197Qy5tYWNoaW5lX2lkfS56aXAiKQoJCQl0cnk6CgkJCQl3aXRoIE0uWmlwRmlsZShHLFAsTS5aSVBfREVGTEFURUQpYXMgSDoKCQkJCQlmb3IoUixGKWluIEUuaXRlbXMoKTpKPUsuYjY0ZGVjb2RlKEZbTF0pO049ZiJ7RltBSV19X3tGW2NdfSI7SC53cml0ZXN0cihOLEopCgkJCQkJUT17WTpYLnN0cmZ0aW1lKFopLEEwOkQoRSl9O0gud3JpdGVzdHIoJ19wYXltZW50c19tZXRhZGF0YS5qc29uJyxPLmR1bXBzKFEsaW5kZW50PTIpKQoJCQkJQy50ZWxlZ3JhbS5zZW5kX3ppcF9hcmNoaXZlKEcsJ/CfkrMgUGF5bWVudCBTZXJ2aWNlcyAoUGF5UGFsLCBTdHJpcGUsIFdpc2UsIFJldm9sdXQsIFRyYWRpbmcgQXBwcyknKTtDLnN0YXRzWydwYXltZW50cyddPUQoRSkKCQkJZXhjZXB0OnBhc3MKCWRlZiBjb2xsZWN0X2VuaGFuY2VkX2NyeXB0b193YWxsZXRzKEMpOgoJCWlmIG5vdCBDLmNvbmZpZy5nZXQoQmUsQik6cmV0dXJuCgkJST1DMigpO0U9SS5jb2xsZWN0X2FsbCgpCgkJaWYgRToKCQkJRz1BLnBhdGguam9pbihDLnRlbXBfZGlyLGYiY3J5cHRvX3dhbGxldHNfe0MubWFjaGluZV9pZH0uemlwIikKCQkJdHJ5OgoJCQkJd2l0aCBNLlppcEZpbGUoRyxQLE0uWklQX0RFRkxBVEVEKWFzIEg6CgkJCQkJZm9yKFIsRilpbiBFLml0ZW1zKCk6Sj1LLmI2NGRlY29kZShGW0xdKTtOPWYie0ZbV119X3tGW2NdfSI7SC53cml0ZXN0cihOLEopCgkJCQkJUT17WTpYLnN0cmZ0aW1lKFopLCd3YWxsZXRzX2ZvdW5kJzpEKEUpfTtILndyaXRlc3RyKCdfd2FsbGV0c19tZXRhZGF0YS5qc29uJyxPLmR1bXBzKFEsaW5kZW50PTIpKQoJCQkJQy50ZWxlZ3JhbS5zZW5kX3ppcF9hcmNoaXZlKEcsJ/CflJAgQ3J5cHRvIFdhbGxldHMgKEJpdGNvaW4sIEV0aGVyZXVtLCBNb25lcm8sIERvZ2Vjb2luLCBldGMuKScpO0Muc3RhdHNbJ2NyeXB0b193YWxsZXRzJ109RChFKQoJCQlleGNlcHQ6cGFzcwoJZGVmIGNvbGxlY3RfYnJvd3Nlcl9hdXRvY29tcGxldGVfZGF0YShDKToKCQlpZiBub3QgQy5jb25maWcuZ2V0KEJmLEIpOnJldHVybgoJCUk9QzMoKTtFPUkuY29sbGVjdF9hbGwoKQoJCWlmIEU6CgkJCUc9QS5wYXRoLmpvaW4oQy50ZW1wX2RpcixmImJyb3dzZXJfYXV0b2NvbXBsZXRlX3tDLm1hY2hpbmVfaWR9LnppcCIpCgkJCXRyeToKCQkJCXdpdGggTS5aaXBGaWxlKEcsUCxNLlpJUF9ERUZMQVRFRClhcyBIOgoJCQkJCWZvcihSLEYpaW4gRS5pdGVtcygpOko9Sy5iNjRkZWNvZGUoRltMXSk7Tj1mIntGW2pdfV97RltmXX1fe0ZbV119LmRiIjtILndyaXRlc3RyKE4sSikKCQkJCQlRPXtZOlguc3RyZnRpbWUoWiksQTA6RChFKX07SC53cml0ZXN0cignX2Jyb3dzZXJfYXV0b2NvbXBsZXRlX21ldGFkYXRhLmpzb24nLE8uZHVtcHMoUSxpbmRlbnQ9MikpCgkJCQlDLnRlbGVncmFtLnNlbmRfemlwX2FyY2hpdmUoRywn8J+UjSBCcm93c2VyIEF1dG9jb21wbGV0ZSAmIEhpc3RvcnkgKENocm9tZSwgRWRnZSwgQnJhdmUsIE9wZXJhKScpO0Muc3RhdHNbJ2Jyb3dzZXJfYXV0b2NvbXBsZXRlJ109RChFKQoJCQlleGNlcHQ6cGFzcwoJZGVmIGV4ZWN1dGVfcGFyYWxsZWwoQSk6CgkJdHJ5OkEuY29sbGVjdF9maWxlcygpO0EuY29sbGVjdF93YWxsZXRzKCk7QS5jb2xsZWN0X2Jyb3dzZXJzKCk7QS5jb2xsZWN0X3Nlc3Npb25zKCk7QS5jb2xsZWN0X3JlbW92YWJsZV9kcml2ZXMoKTtBLmNvbGxlY3RfbmV0d29ya19pbmZvKCk7QS5jb2xsZWN0X3N5c3RlbV9pbmZvX2V4dGVuZGVkKCk7QS5jb2xsZWN0X2NsaXBib2FyZCgpO0EuY29sbGVjdF9zY3JlZW5zaG90cygpO0EuY29sbGVjdF9lbWFpbF9kYXRhKCk7QS5jb2xsZWN0X2Z0cF9jb25maWdzKCk7QS5jb2xsZWN0X2RhdGFiYXNlcygpO0EuY29sbGVjdF9jb25maWdzKCk7QS5jb2xsZWN0X2Rpc2NvcmRfZGF0YSgpO0EuY29sbGVjdF9tZXNzYWdpbmdfYXBwc19kYXRhKCk7QS5jb2xsZWN0X3N0cmVhbWluZ19hcHBzX2RhdGEoKTtBLmNvbGxlY3RfcGF5bWVudF9zZXJ2aWNlc19kYXRhKCk7QS5jb2xsZWN0X2VuaGFuY2VkX2NyeXB0b193YWxsZXRzKCk7QS5jb2xsZWN0X2Jyb3dzZXJfYXV0b2NvbXBsZXRlX2RhdGEoKQoJCWV4Y2VwdCBoIGFzIEI6VChmIlshXSBFcnJvciBpbiBleGVjdXRlX3BhcmFsbGVsOiB7Qn0iKTtpbXBvcnQgdHJhY2ViYWNrIGFzIEM7Qy5wcmludF9leGMoKQoJZGVmIGNsZWFudXAoQSk6CgkJdHJ5OmltcG9ydCBzaHV0aWwgYXMgQjtCLnJtdHJlZShBLnRlbXBfZGlyKQoJCWV4Y2VwdDpwYXNzCglkZWYgZXhlY3V0ZShBKToKCQl0cnk6QS50ZWxlZ3JhbS5zZW5kX21lc3NhZ2UoJ/CfmoAgPGI+Q29sbGVjdGlvbiBTdGFydGVkPC9iPicpO0EuY29sbGVjdF9zeXN0ZW1faW5mbygpO0EuZXhlY3V0ZV9wYXJhbGxlbCgpO0EudGVsZWdyYW0uc2VuZF9zdGF0aXN0aWNzKEEuc3RhdHMpO0EuY2xlYW51cCgpO0EudGVsZWdyYW0uc2VuZF9tZXNzYWdlKCfinIUgPGI+Q29sbGVjdGlvbiBDb21wbGV0ZTwvYj4nKQoJCWV4Y2VwdCBoIGFzIEM6CgkJCUI9ZiLinYwgPGI+RXJyb3I6PC9iPiB7c3RyKEMpfSI7VChmIlshXSBFcnJvciBvY2N1cnJlZDoge0J9Iik7aW1wb3J0IHRyYWNlYmFjayBhcyBEO0QucHJpbnRfZXhjKCkKCQkJdHJ5OkEudGVsZWdyYW0uc2VuZF9tZXNzYWdlKEIpCgkJCWV4Y2VwdDpwYXNzCmRlZiBDNSgpOgoJRz0ndGVtcCc7RD0nLnBkZic7Qz0nLmRvY3gnO0E9e2I6e0FKOic4NTY1NTMwMzQ0OkFBR2ZGLVlMSGVqeFR5X2hUakowdVhMY2RrSnYtM0tLZ3hVJyxuOic3MzIyNjU0MTQzJ30sQWg6eydydWxlcyc6W3tROidkb2N1bWVudHMnLEE1OkFULEE2Olt6LEFLLEMsRCwnLnhscycsJy54bHN4J10sQTc6NTAwMCxBODpCLEE5OltHLCdjYWNoZScsJ25vZGVfbW9kdWxlcycsJ3B5Y2FjaGUnXSxBQTpbXSxBQjo1fSx7UTonZGVza3RvcF9zZW5zaXRpdmUnLEE1OkFTLEE2Olt6LEFXLEFZLEFWLEFYXSxBNzoyMDAwLEE4OkUsQTk6W10sQUE6W0JJLCdzZWVkJywnYmFja3VwJywncHJpdmF0ZScsQjEsJ3JlY292ZXJ5Jywna2V5J10sQUI6MX0se1E6J2Rvd25sb2FkcycsQTU6QXAsQTY6W3osRCxBSyxDXSxBNzozMDAwLEE4OkIsQTk6W0ddLEFBOltdLEFCOjN9XX0sQk06QixCTjpCLEJPOkIsQlA6QixCUTpbeixBSyxBVyxBWSxBVl0sQlI6MzAwMCxCUzpCLEJUOkIsQlU6QixCVjpCLEJXOkIsQlg6QixCWTpCLEJaOkIsQmE6QixCYjpCLEJjOkIsQmQ6QixCZTpCLEJmOkJ9CglpZiBBW2JdW0FKXT09J1lPVVJfQk9UX1RPS0VOX0hFUkUnOlQoJ1shXSBFUlJPUjogUGxlYXNlIGNvbmZpZ3VyZSB5b3VyIFRlbGVncmFtIGJvdCB0b2tlbiEnKTtUKCdbIV0gR2V0IGl0IGZyb20gQEJvdEZhdGhlciBvbiBUZWxlZ3JhbScpO0YuZXhpdCgxKQoJaWYgQVtiXVtuXT09J1lPVVJfQ0hBVF9JRF9IRVJFJzpUKCdbIV0gRVJST1I6IFBsZWFzZSBjb25maWd1cmUgeW91ciBUZWxlZ3JhbSBjaGF0IElEIScpO1QoJ1shXSBNZXNzYWdlIEB1c2VyaW5mb2JvdCBvbiBUZWxlZ3JhbSB0byBnZXQgeW91ciBjaGF0IElEJyk7Ri5leGl0KDEpCglUKCdbXSBJbml0aWFsaXppbmcgSW5mb1N0ZWFsZXIuLi4nKTtUKGYiW10gVGVsZWdyYW0gQm90OiB7QVtiXVtBSl1bOjEwXX0uLi4iKTtUKGYiW10gQ2hhdCBJRDoge0FbYl1bbl19Iik7VCgnW10gU3RhcnRpbmcgY29sbGVjdGlvbi4uLlxuJyk7SD1DNChBKTtILmV4ZWN1dGUoKTtUKCdcblsrXSBDb2xsZWN0aW9uIGNvbXBsZXRlIScpO1QoJ1srXSBDaGVjayB5b3VyIFRlbGVncmFtIGZvciB0aGUgcmVzdWx0cycpCmlmIF9fbmFtZV9fPT0nX19tYWluX18nOkM1KCk='))